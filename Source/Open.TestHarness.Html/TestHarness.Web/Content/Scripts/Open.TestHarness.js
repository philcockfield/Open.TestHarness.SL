// Open.TestHarness.js
(function(){function executeScript(){
Type.registerNamespace('Open.Testing');Open.Testing.CssSelectors=function(){}
Open.Testing.Elements=function(){}
Open.Testing._MethodHelper=function(){}
Open.Testing._MethodHelper.$5=function($p0){return $p0==='constructor';}
Open.Testing._MethodHelper.$6=function($p0){return $p0==='classInitialize';}
Open.Testing._MethodHelper.$7=function($p0){return $p0==='classCleanup';}
Open.Testing._MethodHelper.$8=function($p0){return $p0==='testInitialize';}
Open.Testing._MethodHelper.$9=function($p0){return $p0==='testCleanup';}
Open.Testing._MethodHelper.$A=function($p0){if(Open.Testing._MethodHelper.$6($p0)){return true;}if(Open.Testing._MethodHelper.$7($p0)){return true;}if(Open.Testing._MethodHelper.$8($p0)){return true;}if(Open.Testing._MethodHelper.$9($p0)){return true;}return false;}
Open.Testing.Application=function(){}
Open.Testing.Application.get_shell=function(){return Open.Testing.Application.$0;}
Open.Testing.Application.main=function(args){var $0=new Open.Core.Controls.LogView($(Open.Testing.CssSelectors.log).first());Open.Core.Log.registerView($0);Open.Testing.Application.$0=new Open.Testing.Views.ShellView($(Open.Testing.CssSelectors.root));Open.Testing.Application.$1=new Open.Testing.Controllers.PanelResizeController();Open.Testing.Application.$2=new Open.Testing.Controllers.SidebarController();Open.Testing.Application.$3=new Open.Testing.Controllers.ControlHostController();Open.Testing.Application.$4();Open.Testing.Application.$5();}
Open.Testing.Application.$4=function(){var $0='/Content/Scripts/TestHarness.Test.debug.js';var $1='Test.Application.main';var $2=Open.Testing.Models.PackageInfo.singletonFromUrl($0,$1);Open.Testing.Application.$2.addPackage($2);}
Open.Testing.Application.$5=function(){var $0='/Content/Scripts/Open.Core.Test.debug.js';var $1='Open.Core.Test.Application.main';var $2=Open.Testing.Models.PackageInfo.singletonFromUrl($0,$1);Open.Testing.Application.$2.addPackage($2);}
Type.registerNamespace('Open.Testing.Controllers');Open.Testing.Controllers.ClassController=function(classInfo,sidebarView){Open.Testing.Controllers.ClassController.initializeBase(this);this.$2_0=classInfo;this.$2_1=sidebarView;sidebarView.get_methodList().add_methodClicked(ss.Delegate.create(this,this.$2_3));if(classInfo.get_classInitialize()!=null){classInfo.get_classInitialize().invoke();}}
Open.Testing.Controllers.ClassController.prototype={$2_0:null,$2_1:null,onDisposed:function(){this.$2_1.get_methodList().remove_methodClicked(ss.Delegate.create(this,this.$2_3));if(this.$2_0.get_classCleanup()!=null){this.$2_0.get_classCleanup().invoke();}Open.Testing.TestHarness.clearControls();Open.Testing.Controllers.ClassController.callBaseMethod(this, 'onDisposed');},get_$2_2:function(){return this.$2_1.get_methodList().get_selectedMethod();},$2_3:function($p0,$p1){this.invokeSelectedMethod();},invokeSelectedMethod:function(){var $0=this.get_$2_2();if($0==null){return false;}$0.invoke();return true;}}
Open.Testing.Controllers.ControlHostController=function(){this.$2_1=[];Open.Testing.Controllers.ControlHostController.initializeBase(this);this.$2_0=$(Open.Testing.CssSelectors.controlHost);Open.Testing.Internal.TestHarnessEvents.add_controlAdded(ss.Delegate.create(this,this.$2_2));Open.Testing.Internal.TestHarnessEvents.add_clearControls(ss.Delegate.create(this,this.$2_3));}
Open.Testing.Controllers.ControlHostController.prototype={$2_0:null,onDisposed:function(){this.clear();Open.Testing.Internal.TestHarnessEvents.remove_controlAdded(ss.Delegate.create(this,this.$2_2));Open.Testing.Internal.TestHarnessEvents.remove_clearControls(ss.Delegate.create(this,this.$2_3));Open.Testing.Controllers.ControlHostController.callBaseMethod(this, 'onDisposed');},$2_2:function($p0,$p1){this.$2_4($p1.controlContainer);},$2_3:function($p0,$p1){this.clear();},clear:function(){Open.Core.Helper.get_collection().disposeAndClear(this.$2_1);},$2_4:function($p0){var $0=new Open.Testing.Views.ControlWrapperView(this.$2_0,$p0);this.$2_1.add($0);}}
Open.Testing.Controllers.PanelResizeController=function(){Open.Testing.Controllers.PanelResizeController.initializeBase(this);this.$2_3=new Open.Core.UI.HorizontalPanelResizer(Open.Testing.CssSelectors.sidebar,'TH_SB');this.$2_3.add_resized(ss.Delegate.create(this,function(){
Open.Testing.Controllers.PanelResizeController.$2_6();}));this.$2_3.set_minWidth(200);this.$2_3.set_maxWidthMargin(80);Open.Testing.Controllers.PanelResizeController.$2_5(this.$2_3);this.$2_4=new Open.Core.UI.VerticalPanelResizer(Open.Core.Css.toId('testHarnessLog'),'TH_OL');this.$2_4.add_resized(ss.Delegate.create(this,function(){
Open.Testing.Controllers.PanelResizeController.$2_7();}));this.$2_4.set_minHeight(Open.Core.Html.height(Open.Testing.CssSelectors.logTitlebar));this.$2_4.set_maxHeightMargin(80);Open.Testing.Controllers.PanelResizeController.$2_5(this.$2_4);Open.Core.GlobalEvents.add_windowResize(ss.Delegate.create(this,function(){
Open.Testing.Controllers.PanelResizeController.$2_7();}));this.updateLayout();}
Open.Testing.Controllers.PanelResizeController.$2_5=function($p0){$p0.set_rootContainerId('testHarness');$p0.initialize();}
Open.Testing.Controllers.PanelResizeController.$2_6=function(){$(Open.Testing.CssSelectors.main).css(Open.Core.Css.left,(Open.Core.Html.width(Open.Testing.CssSelectors.sidebar)+1)+Open.Core.Css.px);}
Open.Testing.Controllers.PanelResizeController.$2_7=function(){var $0=Open.Core.Html.height(Open.Testing.CssSelectors.mainContent)-Open.Core.Html.height(Open.Testing.CssSelectors.logContainer);$(Open.Testing.CssSelectors.controlHost).css(Open.Core.Css.height,($0-1)+Open.Core.Css.px);}
Open.Testing.Controllers.PanelResizeController.prototype={$2_3:null,$2_4:null,updateLayout:function(){Open.Testing.Controllers.PanelResizeController.$2_6();Open.Testing.Controllers.PanelResizeController.$2_7();}}
Open.Testing.Controllers.SidebarController=function(){this.$2_0=[];Open.Testing.Controllers.SidebarController.initializeBase(this);this.$2_1=Open.Testing.Application.get_shell().get_sidebar();this.$2_2();}
Open.Testing.Controllers.SidebarController.prototype={$2_1:null,onDisposed:function(){this.$2_1.dispose();var $enum1=ss.IEnumerator.getEnumerator(this.$2_0);while($enum1.moveNext()){var $0=$enum1.get_current();$0.dispose();}Open.Testing.Controllers.SidebarController.callBaseMethod(this, 'onDisposed');},$2_2:function(){var $0=new Open.Testing.Controllers.MyNode('Root');this.$2_1.get_rootList().set_rootNode($0);$0.addChild(new Open.Testing.Controllers.MyNode('Recent'));var $1=Type.safeCast($0.childAt(0),Open.Testing.Controllers.MyNode);var $2=($0.childAt(1));var $3=($0.childAt(2));$1.addChild(new Open.Testing.Controllers.MyNode('Recent Child 1'));$1.addChild(new Open.Testing.Controllers.MyNode('Recent Child 2'));$1.addChild(new Open.Testing.Controllers.MyNode('Recent Child 3'));var $4=Type.safeCast($1.childAt(0),Open.Testing.Controllers.MyNode);$4.addChild(new Open.Testing.Controllers.MyNode('Recent Grandchild 1'));$4.addChild(new Open.Testing.Controllers.MyNode('Recent Grandchild 2'));$4.addChild(new Open.Testing.Controllers.MyNode('Recent Grandchild 3'));},addPackage:function(testPackage){if(testPackage==null){return;}var $0=new Open.Testing.Models.PackageListItem(testPackage);this.$2_1.get_rootList().get_rootNode().addChild($0);var $1=new Open.Testing.Controllers.PackageController($0,this.$2_1);this.$2_0.add($1);$1.add_loaded(ss.Delegate.create(this,function(){
this.$2_1.get_rootList().set_selectedParent($1.get_rootNode());}));},removePackage:function(testPackage){if(testPackage==null){return;}var $0=this.$2_3(testPackage);if($0==null){return;}this.$2_1.get_rootList().get_rootNode().removeChild($0.get_rootNode());Open.Core.Log.info(String.format('Test package unloaded: {0}',Open.Core.Html.toHyperlink(testPackage.get_id(),null,0)));Open.Core.Log.lineBreak();},$2_3:function($p0){return Type.safeCast(Open.Core.Helper.get_collection().first(this.$2_0,ss.Delegate.create(this,function($p1_0){
return ($p1_0).get_testPackage()===$p0;})),Open.Testing.Controllers.PackageController);}}
Open.Testing.Controllers.MyNode=function(text){Open.Testing.Controllers.MyNode.initializeBase(this);this.set_text(text);}
Open.Testing.Controllers.MyNode.prototype={toString:function(){return Open.Testing.Controllers.MyNode.callBaseMethod(this, 'toString');}}
Open.Testing.Controllers.PackageController=function(rootNode,sidebarView){Open.Testing.Controllers.PackageController.initializeBase(this);this.$2_3=rootNode;this.$2_4=sidebarView;rootNode.add_selectionChanged(ss.Delegate.create(this,this.$2_7));rootNode.add_childSelectionChanged(ss.Delegate.create(this,this.$2_8));this.get_$2_9().add_selectedParentChanged(ss.Delegate.create(this,this.$2_6));}
Open.Testing.Controllers.PackageController.prototype={add_loaded:function(value){this.$2_0=ss.Delegate.combine(this.$2_0,value);},remove_loaded:function(value){this.$2_0=ss.Delegate.remove(this.$2_0,value);},$2_0:null,$2_1:function(){if(this.$2_0!=null){this.$2_0.invoke(this,new ss.EventArgs());}},$2_3:null,$2_4:null,$2_5:null,onDisposed:function(){this.$2_3.remove_selectionChanged(ss.Delegate.create(this,this.$2_7));this.$2_3.remove_childSelectionChanged(ss.Delegate.create(this,this.$2_8));this.get_$2_9().remove_selectedParentChanged(ss.Delegate.create(this,this.$2_6));if(this.$2_5!=null){this.$2_5.dispose();}Open.Testing.Controllers.PackageController.callBaseMethod(this, 'onDisposed');},$2_6:function($p0,$p1){this.$2_C();},$2_7:function($p0,$p1){if(this.get_rootNode().get_isSelected()){this.$2_A();}},$2_8:function($p0,$p1){var $0=Type.safeCast(Open.Core.Helper.get_tree().firstSelectedChild(this.get_rootNode()),Open.Testing.Models.ClassListItem);this.set_selectedClass(($0==null)?null:$0.get_classInfo());this.$2_C();},get_isSelected:function(){return this.$2_4.get_rootList().get_selectedParent()===this.get_rootNode();},get_testPackage:function(){return this.$2_3.get_testPackage();},get_rootNode:function(){return this.$2_3;},get_selectedClass:function(){return this.get('SelectedClass',null);},set_selectedClass:function(value){if(this.set('SelectedClass',value,null)){if(this.$2_5!=null){this.$2_5.dispose();}if(value!=null){this.$2_5=new Open.Testing.Controllers.ClassController(value,this.$2_4);}this.$2_4.get_methodList().set_classInfo(value);}return value;},get_$2_9:function(){return this.$2_4.get_rootList();},$2_A:function(){if(this.get_testPackage().get_isLoaded()){return;}var $0=this.get_testPackage().get_loader();var $1=Open.Core.Html.toHyperlink($0.get_scriptUrl(),null,0);var $2=new Open.Core.DelayedAction(10,ss.Delegate.create(this,function(){
Open.Core.Log.error(String.format('Failed to download the test-package at \'{0}\'.  Please ensure the file exists.',$1));Open.Core.Log.lineBreak();}));Open.Core.Log.info(String.format('Downloading test-package: {0} ...',$1));$0.load(ss.Delegate.create(this,function(){
$2.stop();if($0.get_succeeded()){Open.Core.Log.success('Test-package loaded successfully.');this.$2_B();this.$2_1();}Open.Core.Log.lineBreak();}));$2.start();},$2_B:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_testPackage());while($enum1.moveNext()){var $0=$enum1.get_current();var $1=new Open.Testing.Models.ClassListItem($0);this.get_rootNode().addChild($1);}},$2_C:function(){var $0=Type.safeCast(this.get_$2_9().get_selectedParent(),Open.Testing.Models.PackageListItem);this.$2_4.set_isMethodListVisible(($0!=null)&&Open.Core.Helper.get_tree().hasSelectedChild($0));}}
Type.registerNamespace('Open.Testing.Models');Open.Testing.Models.MethodListItem=function(method){Open.Testing.Models.MethodListItem.initializeBase(this);this.$3_0=method;this.set_text(method.get_displayName());}
Open.Testing.Models.MethodListItem.prototype={$3_0:null,get_method:function(){return this.$3_0;}}
Open.Testing.Models.ClassListItem=function(classInfo){Open.Testing.Models.ClassListItem.initializeBase(this);this.$3_0=classInfo;this.set_text(classInfo.get_displayName());}
Open.Testing.Models.ClassListItem.prototype={$3_0:null,get_classInfo:function(){return this.$3_0;}}
Open.Testing.Models.MethodInfo=function(classInfo,name){Open.Testing.Models.MethodInfo.initializeBase(this);this.$1_0=classInfo;this.$1_1=name;this.$1_2=Open.Testing.Models.MethodInfo.formatName(name);this.$1_3=Open.Testing._MethodHelper.$A(this.get_name());}
Open.Testing.Models.MethodInfo.isTestMethod=function(item){var $0=item.key;if(typeof(item.value)!=='function'){return false;}if(Open.Testing._MethodHelper.$5($0)){return false;}if(Open.Testing._MethodHelper.$A($0)){return false;}if($0.startsWith('_')){return false;}if($0.startsWith('get_')){return false;}if($0.startsWith('set_')){return false;}return true;}
Open.Testing.Models.MethodInfo.formatName=function(name){name=name.replaceAll('__',': ');name=name.replaceAll('_',' ');name=Open.Core.Helper.get_string().toSentenceCase(name);return name;}
Open.Testing.Models.MethodInfo.prototype={$1_0:null,$1_1:null,$1_2:null,$1_3:false,get_classInfo:function(){return this.$1_0;},get_name:function(){return this.$1_1;},get_displayName:function(){return this.$1_2;},get_isSpecial:function(){return this.$1_3;},invoke:function(){var $0=this.get_classInfo().get_instance();if(!this.get_isSpecial()&&this.get_classInfo().get_testInitialize()!=null){this.get_classInfo().get_testInitialize().invoke();}try{var $1=Open.Core.Helper.get_reflection().getFunction($0,this.get_name());if($1==null){return;}$1.call($0);}catch($2){Open.Core.Log.error(String.format('<b>Exception</b> Failed while executing \'<b>{1}</b>\'.<br/>{0}Message: {2}<br/>{0}Method: {3}<br/>{0}Class: {4}<br/>{0}Package: {5}',Open.Core.Html.spanIndent(30),this.get_displayName(),$2.message,Open.Core.Helper.get_string().toCamelCase(this.get_name()),this.get_classInfo().get_classType().get_fullName(),Open.Core.Html.toHyperlink(this.get_classInfo().get_packageInfo().get_loader().get_scriptUrl(),null,0)));}if(!this.get_isSpecial()&&this.get_classInfo().get_testCleanup()!=null){this.get_classInfo().get_testCleanup().invoke();}}}
Open.Testing.Models.PackageInfo=function(scriptUrl,initMethod){this.$1_1=[];Open.Testing.Models.PackageInfo.initializeBase(this);if(String.isNullOrEmpty(scriptUrl)){throw new Error('A URL to the test-package script must be specified.');}if(String.isNullOrEmpty(initMethod)){throw new Error('An entry point method must be specified.');}this.$1_3=Open.Testing.Models.PackageInfo.$1_4(scriptUrl);this.$1_2=new Open.Testing.Models.PackageLoader(this,scriptUrl.toLowerCase(),initMethod);}
Open.Testing.Models.PackageInfo.get_singletons=function(){return Open.Testing.Models.PackageInfo.$1_0;}
Open.Testing.Models.PackageInfo.singletonFromUrl=function(scriptUrl,initMethod){var $0=Type.safeCast(Open.Core.Helper.get_collection().first(Open.Testing.Models.PackageInfo.$1_0,function($p1_0){
return ($p1_0).get_id()===scriptUrl.toLowerCase();}),Open.Testing.Models.PackageInfo);if($0==null){$0=new Open.Testing.Models.PackageInfo(scriptUrl,initMethod);Open.Testing.Models.PackageInfo.$1_0.add($0);}return $0;}
Open.Testing.Models.PackageInfo.$1_4=function($p0){var $0=Open.Core.Helper.get_string();$p0=$0.removeEnd($p0,'.js');$p0=$0.removeEnd($p0,'.debug');$p0=$0.stripPath($p0);if(String.isNullOrEmpty($p0.trim())){$p0='<Untitled>'.htmlEncode();}return $p0;}
Open.Testing.Models.PackageInfo.prototype={$1_2:null,$1_3:null,get_id:function(){return this.get_loader().get_scriptUrl();},get_name:function(){return this.$1_3;},get_loader:function(){return this.$1_2;},get_isLoaded:function(){return this.get_loader().get_isLoaded();},get_count:function(){return this.$1_1.length;},getEnumerator:function(){return this.$1_1.getEnumerator();},addClass:function(testClass){if(testClass==null){return;}if(this.contains(testClass)){return;}this.$1_1.add(Open.Testing.Models.ClassInfo.getSingleton(testClass,this));},contains:function(testClass){return this.getTestClassDef(testClass)!=null;},getTestClassDef:function(testClass){if(testClass==null){return null;}var $0=testClass.get_fullName();var $enum1=ss.IEnumerator.getEnumerator(this.$1_1);while($enum1.moveNext()){var $1=$enum1.get_current();if($1.get_classType().get_fullName()===$0){return $1;}}return null;}}
Open.Testing.Models.ClassInfo=function(classType,packageInfo){this.$1_4=[];Open.Testing.Models.ClassInfo.initializeBase(this);this.$1_1=classType;this.$1_2=packageInfo;this.$1_5=Open.Testing.Models.MethodInfo.formatName(classType.get_name());this.$1_A();}
Open.Testing.Models.ClassInfo.getSingleton=function(testClass,packageInfo){if(Open.Testing.Models.ClassInfo.$1_0==null){Open.Testing.Models.ClassInfo.$1_0={};}var $0=String.format('{0}::{1}',packageInfo.get_id(),testClass.get_fullName());if(Object.keyExists(Open.Testing.Models.ClassInfo.$1_0,$0)){return Type.safeCast(Open.Testing.Models.ClassInfo.$1_0[$0],Open.Testing.Models.ClassInfo);}var $1=new Open.Testing.Models.ClassInfo(testClass,packageInfo);Open.Testing.Models.ClassInfo.$1_0[$0]=$1;return $1;}
Open.Testing.Models.ClassInfo.prototype={$1_1:null,$1_2:null,$1_3:null,$1_5:null,$1_6:null,$1_7:null,$1_8:null,$1_9:null,get_classType:function(){return this.$1_1;},get_packageInfo:function(){return this.$1_2;},get_displayName:function(){return this.$1_5;},get_instance:function(){return this.$1_3||(this.$1_3=Type.safeCast(new this.$1_1(),Object));},get_count:function(){return this.$1_4.length;},get_classInitialize:function(){return this.$1_6;},get_classCleanup:function(){return this.$1_7;},get_testInitialize:function(){return this.$1_8;},get_testCleanup:function(){return this.$1_9;},reset:function(){this.$1_3=null;},getEnumerator:function(){return this.$1_4.getEnumerator();},toString:function(){return String.format('[{0}:{1}]',Type.getInstanceType(this).get_name(),this.get_classType().get_name());},$1_A:function(){if(this.get_instance()==null){return;}var $dict1=this.get_instance();for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};if(Open.Testing.Models.MethodInfo.isTestMethod($0)){this.$1_4.add(this.$1_C($0));}else{this.$1_B($0);}}},$1_B:function($p0){var $0=$p0.key;if(!Open.Testing._MethodHelper.$A($0)){return;}var $1=this.$1_C($p0);if(Open.Testing._MethodHelper.$6($0)){this.$1_6=$1;}else if(Open.Testing._MethodHelper.$7($0)){this.$1_7=$1;}else if(Open.Testing._MethodHelper.$8($0)){this.$1_8=$1;}else if(Open.Testing._MethodHelper.$9($0)){this.$1_9=$1;}},$1_C:function($p0){return new Open.Testing.Models.MethodInfo(this,$p0.key);}}
Open.Testing.Models.PackageListItem=function(testPackage){Open.Testing.Models.PackageListItem.initializeBase(this);this.$3_0=testPackage;this.set_text(testPackage.get_name());}
Open.Testing.Models.PackageListItem.prototype={$3_0:null,get_testPackage:function(){return this.$3_0;}}
Open.Testing.Models.PackageLoader=function(parent,scriptUrl,initMethod){this.$0=parent;this.$1=scriptUrl;this.$2=initMethod;Open.Testing.Internal.TestHarnessEvents.add_testClassRegistered(ss.Delegate.create(this,this.$6));}
Open.Testing.Models.PackageLoader.prototype={$0:null,$1:null,$2:null,$3:false,$4:null,$5:false,dispose:function(){Open.Testing.Internal.TestHarnessEvents.remove_testClassRegistered(ss.Delegate.create(this,this.$6));},$6:function($p0,$p1){if(!this.$5){return;}this.$0.addClass($p1.testClass);},get_scriptUrl:function(){return this.$1;},get_initMethod:function(){return this.$2;},get_isLoaded:function(){return this.$3;},get_error:function(){return this.$4;},get_succeeded:function(){return this.get_error()==null;},load:function(onComplete){if(this.get_isLoaded()){Open.Core.Helper.invokeOrDefault(onComplete);return;}$.getScript(this.$1,ss.Delegate.create(this,function($p1_0){
try{this.$5=true;eval(this.$2+'();');}catch($1_0){Open.Core.Log.error(String.format('Failed to initialize the script-file at \'{0}\' with the entry method \'{1}()\'.<br/>Message: {2}',this.$1,this.$2,$1_0.message));this.$4=$1_0;}finally{this.$5=false;}this.$3=this.get_succeeded();Open.Core.Helper.invokeOrDefault(onComplete);}));}}
Type.registerNamespace('Open.Testing.Views');Open.Testing.Views.ControlWrapperView=function(divControlHost,controlContainer){Open.Testing.Views.ControlWrapperView.initializeBase(this);this.$2_1=controlContainer;this.initialize(divControlHost);this.$2_0=Open.Core.Html.createDiv();this.$2_0.appendTo(divControlHost);this.$2_0.append('Yo!');this.$2_0.css('background','orange');this.$2_0.css('border','solid 1px black');}
Open.Testing.Views.ControlWrapperView.prototype={$2_0:null,$2_1:null,onDisposed:function(){this.$2_0.remove();Open.Testing.Views.ControlWrapperView.callBaseMethod(this, 'onDisposed');}}
Open.Testing.Views.ShellView=function(container){Open.Testing.Views.ShellView.initializeBase(this);this.initialize(container);this.$2_0=new Open.Testing.Views.SidebarView($(Open.Testing.CssSelectors.sidebar));}
Open.Testing.Views.ShellView.prototype={$2_0:null,get_sidebar:function(){return this.$2_0;}}
Open.Testing.Views.SidebarView=function(container){Open.Testing.Views.SidebarView.initializeBase(this);this.initialize(container);this.$2_0=new Open.Core.Lists.ListTreeView($(Open.Testing.CssSelectors.sidebarRootList));this.$2_0.set_slideDuration(0.2);this.$2_2=new Open.Testing.Views.MethodListView($(Open.Testing.CssSelectors.testList));this.$2_1=new Open.Core.Lists.ListTreeBackController(this.$2_0,$(Open.Testing.CssSelectors.sidebarToolbar),$(Open.Testing.CssSelectors.backMask));this.updateVisualState();}
Open.Testing.Views.SidebarView.prototype={$2_0:null,$2_1:null,$2_2:null,onDisposed:function(){this.$2_1.dispose();this.$2_0.dispose();Open.Testing.Views.SidebarView.callBaseMethod(this, 'onDisposed');},get_rootList:function(){return this.$2_0;},get_methodList:function(){return this.$2_2;},get_isMethodListVisible:function(){return this.get('IsTestListVisible',false);},set_isMethodListVisible:function(value){if(this.set('IsTestListVisible',value,false)){if(value){this.showMethodList(null);}else{this.hideMethodList(null);}}return value;},updateVisualState:function(){this.$2_5();},showMethodList:function(onComplete){this.set_isMethodListVisible(true);var $0=this.$2_6();this.$2_3($0,onComplete);},hideMethodList:function(onComplete){this.set_isMethodListVisible(false);this.$2_3(0,onComplete);},$2_3:function($p0,$p1){var $0={};$0[Open.Core.Css.height]=$p0;var $1={};$1[Open.Core.Css.bottom]=$p0;var $2=$p0>0;if($2){Open.Core.Css.setVisible(this.get_methodList().get_container(),true);}this.get_methodList().updateLayout();this.$2_4($2,this.get_methodList().get_container(),$0,null);this.$2_4($2,this.get_rootList().get_container(),$1,$p1);},$2_4:function($p0,$p1,$p2,$p3){$p1.animate($p2,Open.Core.Helper.get_number().toMsecs(0.2),'swing',ss.Delegate.create(this,function(){
if(!$p0){Open.Core.Css.setVisible(this.get_methodList().get_container(),false);}Open.Core.Helper.invokeOrDefault($p3);}));},$2_5:function(){this.get_rootList().get_container().css(Open.Core.Css.bottom,this.get_methodList().get_container().height()+Open.Core.Css.px);},$2_6:function(){return 250;}}
Open.Testing.Views.MethodListView=function(container){Open.Testing.Views.MethodListView.initializeBase(this);this.initialize(container);this.$2_2=new Open.Core.Lists.ListTreeView($(Open.Testing.CssSelectors.testListContent));this.$2_2.set_slideDuration(0.2);this.$2_3=new Open.Core.Lists.ListItem();this.$2_2.set_rootNode(this.$2_3);}
Open.Testing.Views.MethodListView.prototype={add_methodClicked:function(value){this.$2_0=ss.Delegate.combine(this.$2_0,value);},remove_methodClicked:function(value){this.$2_0=ss.Delegate.remove(this.$2_0,value);},$2_0:null,$2_1:function(){if(this.$2_0!=null){this.$2_0.invoke(this,new ss.EventArgs());}},$2_2:null,$2_3:null,$2_4:function($p0,$p1){this.set_selectedMethod(($p0).get_method());this.$2_1();},get_classInfo:function(){return this.get('ClassInfo',null);},set_classInfo:function(value){if(this.set('ClassInfo',value,null)){this.$2_5(value);}return value;},get_selectedMethod:function(){return this.get('SelectedMethod',null);},set_selectedMethod:function(value){this.set('SelectedMethod',value,null);return value;},updateLayout:function(){this.$2_2.updateLayout();},$2_5:function($p0){this.$2_7();if($p0==null){return;}var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.get_current();this.$2_3.addChild(this.$2_6($0));}},$2_6:function($p0){var $0=new Open.Testing.Models.MethodListItem($p0);$0.add_click(ss.Delegate.create(this,this.$2_4));return $0;},$2_7:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$2_3.get_children());while($enum1.moveNext()){var $0=$enum1.get_current();$0.remove_click(ss.Delegate.create(this,this.$2_4));}this.$2_3.clearChildren();this.set_selectedMethod(null);}}
Open.Testing.CssSelectors.registerClass('Open.Testing.CssSelectors');Open.Testing.Elements.registerClass('Open.Testing.Elements');Open.Testing._MethodHelper.registerClass('Open.Testing._MethodHelper');Open.Testing.Application.registerClass('Open.Testing.Application');Open.Testing.Controllers.ClassController.registerClass('Open.Testing.Controllers.ClassController',Open.Core.ControllerBase);Open.Testing.Controllers.ControlHostController.registerClass('Open.Testing.Controllers.ControlHostController',Open.Core.ControllerBase);Open.Testing.Controllers.PanelResizeController.registerClass('Open.Testing.Controllers.PanelResizeController',Open.Core.ControllerBase);Open.Testing.Controllers.SidebarController.registerClass('Open.Testing.Controllers.SidebarController',Open.Core.ControllerBase);Open.Testing.Controllers.MyNode.registerClass('Open.Testing.Controllers.MyNode',Open.Core.Lists.ListItem);Open.Testing.Controllers.PackageController.registerClass('Open.Testing.Controllers.PackageController',Open.Core.ControllerBase);Open.Testing.Models.MethodListItem.registerClass('Open.Testing.Models.MethodListItem',Open.Core.Lists.ListItem);Open.Testing.Models.ClassListItem.registerClass('Open.Testing.Models.ClassListItem',Open.Core.Lists.ListItem);Open.Testing.Models.MethodInfo.registerClass('Open.Testing.Models.MethodInfo',Open.Core.ModelBase);Open.Testing.Models.PackageInfo.registerClass('Open.Testing.Models.PackageInfo',Open.Core.ModelBase,ss.IEnumerable);Open.Testing.Models.ClassInfo.registerClass('Open.Testing.Models.ClassInfo',Open.Core.ModelBase,ss.IEnumerable);Open.Testing.Models.PackageListItem.registerClass('Open.Testing.Models.PackageListItem',Open.Core.Lists.ListItem);Open.Testing.Models.PackageLoader.registerClass('Open.Testing.Models.PackageLoader',null,ss.IDisposable);Open.Testing.Views.ControlWrapperView.registerClass('Open.Testing.Views.ControlWrapperView',Open.Core.ViewBase);Open.Testing.Views.ShellView.registerClass('Open.Testing.Views.ShellView',Open.Core.ViewBase);Open.Testing.Views.SidebarView.registerClass('Open.Testing.Views.SidebarView',Open.Core.ViewBase);Open.Testing.Views.MethodListView.registerClass('Open.Testing.Views.MethodListView',Open.Core.ViewBase);Open.Testing.CssSelectors.root='#testHarness';Open.Testing.CssSelectors.sidebar='#testHarnessSidebar';Open.Testing.CssSelectors.sidebarRootList='#testHarnessSidebar .th-sidebarRootList';Open.Testing.CssSelectors.sidebarToolbar='#testHarnessSidebar div.th-toolbar';Open.Testing.CssSelectors.backMask='#testHarnessSidebar img.th-backMask';Open.Testing.CssSelectors.testList='#testHarnessSidebar .th-testList';Open.Testing.CssSelectors.testListContent='#testHarnessSidebar .th-testList-content';Open.Testing.CssSelectors.main='#testHarness .th-main';Open.Testing.CssSelectors.mainContent='#testHarness .th-main .th-content';Open.Testing.CssSelectors.controlHost='#testHarness .th-main .th-content .th-controlHost';Open.Testing.CssSelectors.logContainer='#testHarnessLog';Open.Testing.CssSelectors.logTitlebar='#testHarnessLog .th-log-tb';Open.Testing.CssSelectors.log='#testHarnessLog .c-log';Open.Testing.Elements.root='testHarness';Open.Testing.Elements.outputLog='testHarnessLog';Open.Testing._MethodHelper.$0='constructor';Open.Testing._MethodHelper.$1='classInitialize';Open.Testing._MethodHelper.$2='classCleanup';Open.Testing._MethodHelper.$3='testInitialize';Open.Testing._MethodHelper.$4='testCleanup';Open.Testing.Application.$0=null;Open.Testing.Application.$1=null;Open.Testing.Application.$2=null;Open.Testing.Application.$3=null;Open.Testing.Controllers.PackageController.propSelectedClass='SelectedClass';Open.Testing.Models.MethodInfo.keyGetter='get_';Open.Testing.Models.MethodInfo.keySetter='set_';Open.Testing.Models.MethodInfo.keyField='_';Open.Testing.Models.MethodInfo.keyFunction='function';Open.Testing.Models.PackageInfo.$1_0=[];Open.Testing.Models.ClassInfo.$1_0=null;Open.Testing.Views.SidebarView.slideDuration=0.2;Open.Testing.Views.SidebarView.propIsTestListVisible='IsTestListVisible';Open.Testing.Views.MethodListView.propClassInfo='ClassInfo';Open.Testing.Views.MethodListView.propSelectedMethod='SelectedMethod';
// ---- Do not remove this footer ----
// This script was generated using Script# v0.6.0.0 (http://projects.nikhilk.net/ScriptSharp)
// -----------------------------------
}
ss.loader.registerScript('TestHarness.Script3',['Open.Core.Views','Open.Core.Script','Open.Core.Lists'],executeScript);})();