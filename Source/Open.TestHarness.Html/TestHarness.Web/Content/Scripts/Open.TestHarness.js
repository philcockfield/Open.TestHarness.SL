// Open.TestHarness.js
(function(){function executeScript(){
Type.registerNamespace('Open.TestHarness');Open.TestHarness.CssSelectors=function(){}
Open.TestHarness.Elements=function(){}
Open.TestHarness.TestPackageDef=function(packageType){this.$1=[];this.$2=packageType;}
Open.TestHarness.TestPackageDef.get_singletons=function(){return Open.TestHarness.TestPackageDef.$0;}
Open.TestHarness.TestPackageDef.getSingleton=function(testPackage){var $0=testPackage.get_fullName();var $enum1=ss.IEnumerator.getEnumerator(Open.TestHarness.TestPackageDef.$0);while($enum1.moveNext()){var $2=$enum1.get_current();if($2.get_packageType().get_fullName()===$0){return $2;}}var $1=new Open.TestHarness.TestPackageDef(testPackage);Open.TestHarness.TestPackageDef.$0.add($1);return $1;}
Open.TestHarness.TestPackageDef.prototype={$2:null,get_packageType:function(){return this.$2;},get_count:function(){return this.$1.length;},getEnumerator:function(){return this.$1.getEnumerator();},addClass:function(testClass){if(testClass==null){return;}if(this.contains(testClass)){return;}this.$1.add(Open.TestHarness.TestClassDef.getSingleton(testClass));},contains:function(testClass){return this.getTestClassDef(testClass)!=null;},getTestClassDef:function(testClass){if(testClass==null){return null;}var $0=testClass.get_fullName();var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $1=$enum1.get_current();if($1.get_type().get_fullName()===$0){return $1;}}return null;}}
Open.TestHarness.TestClassDef=function(type){this.$1=type;}
Open.TestHarness.TestClassDef.getSingleton=function(testClass){if(Open.TestHarness.TestClassDef.$0==null){Open.TestHarness.TestClassDef.$0={};}var $0=testClass.get_fullName();if(Object.keyExists(Open.TestHarness.TestClassDef.$0,$0)){return Type.safeCast(Open.TestHarness.TestClassDef.$0[$0],Open.TestHarness.TestClassDef);}var $1=new Open.TestHarness.TestClassDef(testClass);Open.TestHarness.TestClassDef.$0[$0]=$1;return $1;}
Open.TestHarness.TestClassDef.prototype={$1:null,get_type:function(){return this.$1;}}
Open.TestHarness.TestHarnessScript3$0=function(){Open.Core.TestHarness.add_testClassRegistered(ss.Delegate.create(this,this.$0));}
Open.TestHarness.TestHarnessScript3$0.prototype={$0:function($p0,$p1){if($p1.testPackage==null){return;}var $0=Open.TestHarness.TestPackageDef.getSingleton($p1.testPackage);$0.addClass($p1.testClass);Open.Core.Log.info('!! From Event');Open.Core.Log.info('Class: '+$p1.testClass.get_fullName());Open.Core.Log.info('def.Count: '+$0.get_count());var $enum1=ss.IEnumerator.getEnumerator($0);while($enum1.moveNext()){var $1=$enum1.get_current();Open.Core.Log.info('> '+$1.get_type().get_name());}Open.Core.Log.lineBreak();}}
Open.TestHarness._TestPackageLoader=function(scriptUrl,initMethod){this.$0=scriptUrl;this.$1=initMethod;}
Open.TestHarness._TestPackageLoader.prototype={$0:null,$1:null,$2:false,$3:null,get_$4:function(){return this.$2;},get_$5:function(){return this.$3;},get_$6:function(){return this.get_$5()==null;},$7:function($p0){if(this.get_$4()){Open.Core.Helper.invokeOrDefault($p0);return;}$.getScript(this.$0,ss.Delegate.create(this,function($p1_0){
try{eval(this.$1+'();');}catch($1_0){Open.Core.Log.error(String.format('Failed to initialize the script-file at \'{0}\' with the entry method \'{1}()\'.<br/>Message: {2}',this.$0,this.$1,$1_0.message));this.$3=$1_0;}this.$2=true;Open.Core.Helper.invokeOrDefault($p0);}));}}
Open.TestHarness.Application=function(){}
Open.TestHarness.Application.main=function(args){Open.TestHarness.Application.$0=new Open.TestHarness.Shell.PanelResizeController();Open.TestHarness.Application.$1=new Open.TestHarness.Sidebar.SidebarController();Open.TestHarness.Application.$2=new Open.TestHarness.TestHarnessScript3$0();var $0=new Open.Core.Controls.LogView($(Open.TestHarness.CssSelectors.log).first());Open.Core.Log.registerView($0);Open.Core.DelayedAction.invoke(1,function(){
Open.Core.Log.info('Starting download...');var $1_0=new Open.TestHarness._TestPackageLoader('/Content/Scripts/TestHarness.Script.Test.debug.js','TestHarness.Test.Application.main');$1_0.$7(function(){
Open.Core.Log.info('Complete.  Succeeded: '+$1_0.get_$6());Open.Core.Log.lineBreak();});});}
Type.registerNamespace('Open.TestHarness.Shell');Open.TestHarness.Shell.PanelResizeController=function(){Open.TestHarness.Shell.PanelResizeController.initializeBase(this);this.$2_3=new Open.Core.UI.HorizontalPanelResizer(Open.TestHarness.CssSelectors.sidebar,'TH_SB');this.$2_3.add_resized(ss.Delegate.create(this,function(){
Open.TestHarness.Shell.PanelResizeController.$2_6();}));this.$2_3.set_minWidth(200);this.$2_3.set_maxWidthMargin(80);Open.TestHarness.Shell.PanelResizeController.$2_5(this.$2_3);Open.TestHarness.Shell.PanelResizeController.$2_6();this.$2_4=new Open.Core.UI.VerticalPanelResizer(Open.Core.Css.toId('testHarnessLog'),'TH_OL');this.$2_4.add_resized(ss.Delegate.create(this,function(){
}));this.$2_4.set_minHeight($(Open.TestHarness.CssSelectors.logTitlebar).height());this.$2_4.set_maxHeightMargin(80);Open.TestHarness.Shell.PanelResizeController.$2_5(this.$2_4);}
Open.TestHarness.Shell.PanelResizeController.$2_5=function($p0){$p0.set_rootContainerId('testHarness');$p0.initialize();}
Open.TestHarness.Shell.PanelResizeController.$2_6=function(){$(Open.TestHarness.CssSelectors.main).css(Open.Core.Css.left,$(Open.TestHarness.CssSelectors.sidebar).width()+1+Open.Core.Css.px);}
Open.TestHarness.Shell.PanelResizeController.prototype={$2_3:null,$2_4:null}
Type.registerNamespace('Open.TestHarness.Sidebar');Open.TestHarness.Sidebar.SidebarController=function(){Open.TestHarness.Sidebar.SidebarController.initializeBase(this);this.$2_0=new Open.Core.Lists.ListTreeView($(Open.TestHarness.CssSelectors.sidebarList));this.$2_0.set_slideDuration(0.2);this.$2_1=new Open.Core.Lists.ListTreeBackController(this.$2_0,$(Open.TestHarness.CssSelectors.sidebarToolbar),$(Open.TestHarness.CssSelectors.homeButton));this.$2_2();}
Open.TestHarness.Sidebar.SidebarController.prototype={$2_0:null,$2_1:null,onDisposed:function(){this.$2_1.dispose();Open.TestHarness.Sidebar.SidebarController.callBaseMethod(this, 'onDisposed');},$2_2:function(){var $0=new Open.TestHarness.Sidebar.MyNode('Root');$0.add(new Open.TestHarness.Sidebar.MyNode('Recent'));$0.add(new Open.TestHarness.Sidebar.MyNode('Child 2'));$0.add(new Open.TestHarness.Sidebar.MyNode('Child 3'));var $1=Type.safeCast($0.childAt(0),Open.TestHarness.Sidebar.MyNode);var $2=($0.childAt(1));var $3=($0.childAt(2));$1.add(new Open.TestHarness.Sidebar.MyNode('Recent Child 1'));$1.add(new Open.TestHarness.Sidebar.MyNode('Recent Child 2'));$1.add(new Open.TestHarness.Sidebar.MyNode('Recent Child 3'));var $4=Type.safeCast($1.childAt(0),Open.TestHarness.Sidebar.MyNode);$4.add(new Open.TestHarness.Sidebar.MyNode('Recent Grandchild 1'));$4.add(new Open.TestHarness.Sidebar.MyNode('Recent Grandchild 2'));$4.add(new Open.TestHarness.Sidebar.MyNode('Recent Grandchild 3'));$2.add(new Open.TestHarness.Sidebar.MyNode('Yo Child'));$3.add(new Open.TestHarness.Sidebar.MyNode('Yo Child'));this.$2_0.set_rootNode($0);$1.set_text('My Recent Foo');$2.set_canSelect(false);$2.set_isSelected(true);}}
Open.TestHarness.Sidebar.MyNode=function(text){Open.TestHarness.Sidebar.MyNode.initializeBase(this);this.set_text(text);}
Open.TestHarness.CssSelectors.registerClass('Open.TestHarness.CssSelectors');Open.TestHarness.Elements.registerClass('Open.TestHarness.Elements');Open.TestHarness.TestPackageDef.registerClass('Open.TestHarness.TestPackageDef',null,ss.IEnumerable);Open.TestHarness.TestClassDef.registerClass('Open.TestHarness.TestClassDef');Open.TestHarness.TestHarnessScript3$0.registerClass('Open.TestHarness.TestHarnessScript3$0');Open.TestHarness._TestPackageLoader.registerClass('Open.TestHarness._TestPackageLoader');Open.TestHarness.Application.registerClass('Open.TestHarness.Application');Open.TestHarness.Shell.PanelResizeController.registerClass('Open.TestHarness.Shell.PanelResizeController',Open.Core.ControllerBase);Open.TestHarness.Sidebar.SidebarController.registerClass('Open.TestHarness.Sidebar.SidebarController',Open.Core.ControllerBase);Open.TestHarness.Sidebar.MyNode.registerClass('Open.TestHarness.Sidebar.MyNode',Open.Core.Lists.ListItem);Open.TestHarness.CssSelectors.sidebar='#testHarnessSidebar';Open.TestHarness.CssSelectors.sidebarList='#testHarnessSidebar .th-sidebarList';Open.TestHarness.CssSelectors.sidebarToolbar='#testHarnessSidebar div.th-toolbar';Open.TestHarness.CssSelectors.homeButton='#testHarnessSidebar img.th-home';Open.TestHarness.CssSelectors.main='#testHarness .th-main';Open.TestHarness.CssSelectors.logTitlebar='#testHarnessLog .th-log-titlebar';Open.TestHarness.CssSelectors.log='#testHarnessLog .coreLog';Open.TestHarness.Elements.root='testHarness';Open.TestHarness.Elements.outputLog='testHarnessLog';Open.TestHarness.TestPackageDef.$0=[];Open.TestHarness.TestClassDef.$0=null;Open.TestHarness.Application.$0=null;Open.TestHarness.Application.$1=null;Open.TestHarness.Application.$2=null;
// ---- Do not remove this footer ----
// This script was generated using Script# v0.6.0.0 (http://projects.nikhilk.net/ScriptSharp)
// -----------------------------------
}
ss.loader.registerScript('TestHarness.Script3',['Open.Core.Script','Open.Core.Views','Open.Core.Lists'],executeScript);})();