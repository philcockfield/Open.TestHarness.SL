// Open.Core.Controls.js
(function(){function executeScript(){
Type.registerNamespace('Open.Core.Controls.Buttons');Open.Core.Controls.Buttons.ButtonTemplate=function(){};Open.Core.Controls.Buttons.ButtonTemplate.prototype = {dominantButton:0}
Open.Core.Controls.Buttons.ButtonTemplate.registerEnum('Open.Core.Controls.Buttons.ButtonTemplate',false);Open.Core.Controls.Buttons.ButtonBase=function(element){Open.Core.Controls.Buttons.ButtonBase.initializeBase(this,[element]);this.$2_4=new Open.Core.Controls.Buttons.OpenCoreViews$0(this,ss.Delegate.create(this,function(){
this.invokeClick(true);}));this.$2_4.add_propertyChanged(ss.Delegate.create(this,this.$2_5));}
Open.Core.Controls.Buttons.ButtonBase.prototype={add_click:function(value){this.$2_0=ss.Delegate.combine(this.$2_0,value);},remove_click:function(value){this.$2_0=ss.Delegate.remove(this.$2_0,value);},$2_0:null,$2_1:function(){if(this.$2_0!=null){this.$2_0.invoke(this,new ss.EventArgs());}},add_isPressedChanged:function(value){this.$2_2=ss.Delegate.combine(this.$2_2,value);},remove_isPressedChanged:function(value){this.$2_2=ss.Delegate.remove(this.$2_2,value);},$2_2:null,$2_3:function(){if(this.$2_2!=null){this.$2_2.invoke(this,new ss.EventArgs());}},$2_4:null,onDisposed:function(){this.$2_4.dispose();Open.Core.Controls.Buttons.ButtonBase.callBaseMethod(this, 'onDisposed');},$2_5:function($p0,$p1){this.firePropertyChanged($p1.get_property().get_name());if($p1.get_property().get_name()==='IsPressed'){this.$2_3();}},get_canToggle:function(){return this.$2_4.get_$1_6();},set_canToggle:function(value){this.$2_4.set_$1_6(value);return value;},get_state:function(){return this.$2_4.get_$1_7();},get_isPressed:function(){return this.$2_4.get_$1_8();},get_isMouseOver:function(){return this.$2_4.get_$1_9();},get_isMouseDown:function(){return this.$2_4.get_$1_A();},invokeClick:function(force){if(!this.get_isEnabled()&&!force){return;}if(this.get_canToggle()){this.$2_4.set_$1_8(!this.$2_4.get_$1_8());}this.$2_1();},stateContent:function(state,html,cssClasses){}}
Open.Core.Controls.Buttons.OpenCoreViews$0=function(control,invokeClick){Open.Core.Controls.Buttons.OpenCoreViews$0.initializeBase(this);this.$1_0=control;this.$1_1=invokeClick;var $0=control.get_container();$0.mouseover(ss.Delegate.create(this,this.$1_2));$0.mouseout(ss.Delegate.create(this,this.$1_3));$0.mousedown(ss.Delegate.create(this,this.$1_4));$0.mouseup(ss.Delegate.create(this,this.$1_5));}
Open.Core.Controls.Buttons.OpenCoreViews$0.prototype={$1_0:null,$1_1:null,$1_2:function($p0){this.set_$1_9(true);this.$1_B();},$1_3:function($p0){this.set_$1_9(false);this.$1_B();},$1_4:function($p0){this.set_$1_A(true);this.$1_B();},$1_5:function($p0){var $0=this.get_$1_A();this.set_$1_A(false);this.$1_B();if(this.$1_0.get_isEnabled()&&this.get_$1_9()&&$0){Open.Core.Helper.invokeOrDefault(this.$1_1);}},get_$1_6:function(){return this.get('CanToggle',false);},set_$1_6:function($p0){this.set('CanToggle',$p0,false);return $p0;},get_$1_7:function(){return this.get('State',0);},set_$1_7:function($p0){this.set('State',$p0,0);return $p0;},get_$1_8:function(){return this.get('IsPressed',false);},set_$1_8:function($p0){this.set('IsPressed',$p0,false);return $p0;},get_$1_9:function(){return this.get('IsMouseOver',false);},set_$1_9:function($p0){this.set('IsMouseOver',$p0,false);return $p0;},get_$1_A:function(){return this.get('IsMouseDown',false);},set_$1_A:function($p0){this.set('IsMouseDown',$p0,false);return $p0;},$1_B:function(){if(!this.$1_0.get_isEnabled()){this.set_$1_7(0);}else if(this.get_$1_9()&&this.get_$1_A()){this.set_$1_7(2);}else if(this.get_$1_9()){this.set_$1_7(1);}else{this.set_$1_7(0);}}}
Open.Core.Controls.Buttons.OpenCoreViews$1=function(){Open.Core.Controls.Buttons.OpenCoreViews$1.initializeBase(this);}
Open.Core.Controls.Buttons._StateContent=function(state,html,cssClasses){this.$0=state;this.$1=html;this.$2=cssClasses;}
Open.Core.Controls.Buttons._StateContent.prototype={$0:0,$1:null,$2:null,get_$3:function(){return this.$0;},get_$4:function(){return this.$1;},get_$5:function(){return this.$2;}}
Open.Core.Controls.Buttons.LinkButton=function(htmlContent){Open.Core.Controls.Buttons.LinkButton.initializeBase(this,[Open.Core.Controls.Buttons.LinkButton.$2_6(htmlContent)]);this.get_container().click(ss.Delegate.create(this,function($p1_0){
$p1_0.preventDefault();}));}
Open.Core.Controls.Buttons.LinkButton.$2_6=function($p0){var $0=Open.Core.Html.createElement(Open.Core.Html.anchor);$0.append($p0);$0.attr(Open.Core.Html.href,'#');return $0;}
Open.Core.Controls.Buttons.SystemButton=function(){Open.Core.Controls.Buttons.SystemButton.initializeBase(this,[Open.Core.Controls.Buttons.SystemButton.$2_7()]);this.$2_6=this.get_container();this.$2_9();this.$2_A();this.$2_B();this.$2_C();this.$2_D();this.add_propertyChanged(ss.Delegate.create(this,this.$2_8));}
Open.Core.Controls.Buttons.SystemButton.$2_7=function(){var $0=Open.Core.Html.createElement(Open.Core.Html.button);$0.attr(Open.Core.Html.type,Open.Core.Html.submit);return $0;}
Open.Core.Controls.Buttons.SystemButton.prototype={$2_6:null,$2_8:function($p0,$p1){var $0=$p1.get_property().get_name();if($0==='CanToggle'&&this.get_canToggle()){throw new Error(String.format('[{0}] cannot be made to toggle.',Type.getInstanceType(this).get_name()));}},onIsEnabledChanged:function(){if(this.get_isEnabled()){this.get_container().removeAttr(Open.Core.Html.disabled);}else{this.get_container().attr(Open.Core.Html.disabled,true.toString());}Open.Core.Controls.Buttons.SystemButton.callBaseMethod(this, 'onIsEnabledChanged');},get_htmlContent:function(){return this.get('HtmlContent','Untitled');},set_htmlContent:function(value){if(this.set('HtmlContent',value,'Untitled')){this.$2_9();}return value;},get_type:function(){return this.get('Type',Open.Core.Html.submit);},set_type:function(value){if(this.set('Type',value,Open.Core.Html.submit)){this.$2_A();}return value;},get_value:function(){return this.get('Value',null);},set_value:function(value){if(this.set('Value',value,null)){this.$2_B();}return value;},get_padding:function(){return this.get('Padding','5px 30px');},set_padding:function(value){if(this.set('Padding',value,'5px 30px')){this.$2_C();}return value;},get_fontSize:function(){return this.get('FontSize',null);},set_fontSize:function(value){if(this.set('FontSize',value,null)){this.$2_D();}return value;},beforeInsertReplace:function(e){this.set_value(e.attr(Open.Core.Html.value));this.set_type(e.attr(Open.Core.Html.type));this.set_htmlContent(e.html());Open.Core.Controls.Buttons.SystemButton.callBaseMethod(this, 'beforeInsertReplace',[e]);},$2_9:function(){this.$2_6.html(this.get_htmlContent());this.fireSizeChanged();},$2_A:function(){this.$2_6.attr(Open.Core.Html.type,this.get_type());},$2_B:function(){this.$2_6.attr(Open.Core.Html.value,this.get_value());},$2_C:function(){this.$2_6.css(Open.Core.Css.padding,this.get_padding());this.fireSizeChanged();},$2_D:function(){this.$2_6.css(Open.Core.Css.fontSize,this.get_fontSize());this.fireSizeChanged();}}
Type.registerNamespace('Open.Core.Controls.HtmlPrimitive');Open.Core.Controls.HtmlPrimitive.HtmlList=function(listType,cssClass){this.$2_1=[];Open.Core.Controls.HtmlPrimitive.HtmlList.initializeBase(this,[Open.Core.Html.createElement((listType===0)?'ul':'ol')]);this.$2_0=listType;Open.Core.Css.addClasses(this.get_container(),cssClass);}
Open.Core.Controls.HtmlPrimitive.HtmlList.prototype={$2_0:0,get_listType:function(){return this.$2_0;},get_count:function(){return this.get_container().children().length;},get_isEmpty:function(){return this.get_count()===0;},get_first:function(){return this.get_item(0);},get_last:function(){return this.get_item(this.get_count()-1);},add:function(text,cssClass){var $0=Open.Core.Html.createElement('li');if(!String.isNullOrEmpty(text)){$0.append(String.format('<p>{0}</p>',text));}Open.Core.Css.addClasses($0,cssClass);$0.appendTo(this.get_container());this.fireSizeChanged();return $0;},remove:function(index){var $0=this.get_item(index);if($0==null){return;}$0.remove();this.fireSizeChanged();},clear:function(){if(this.get_isEmpty()){return;}do{this.remove(0);}while(!this.get_isEmpty());},get_item:function(index){if(index<0){index=0;}if(this.get_isEmpty()||index>=this.get_count()){return null;}return $(this.get_container().children().get(index));}}
Type.registerNamespace('Open.Core.Controls');Open.Core.Controls.LogView=function(container){Open.Core.Controls.LogView.initializeBase(this,[container]);this.$2_4=new Open.Core.DelayedAction(0.05,ss.Delegate.create(this,this.$2_5));this.$2_0=container.children(Open.Core.LogCss.list).first();Open.Core.GlobalEvents.add_windowResize(ss.Delegate.create(this,function(){
this.updateLayout();}));Open.Core.GlobalEvents.add_horizontalPanelResized(ss.Delegate.create(this,function(){
this.updateLayout();}));Open.Core.GlobalEvents.add_verticalPanelResized(ss.Delegate.create(this,function(){
this.$2_4.start();}));this.updateLayout();}
Open.Core.Controls.LogView.prototype={$2_0:null,$2_1:null,$2_2:0,$2_3:0,$2_4:null,onDisposed:function(){this.clear();this.$2_4.dispose();Open.Core.Controls.LogView.callBaseMethod(this, 'onDisposed');},$2_5:function(){if(this.$2_1==null){return;}this.updateLayout();Open.Core.Helper.get_scroll().toBottom(this.$2_0,this.get_scrollDuration(),'swing',null);},get_scrollDuration:function(){return this.$2_3;},set_scrollDuration:function(value){this.$2_3=value;return value;},insert:function(message,cssClass){this.$2_2++;var $0=String.Empty;if(message==null){$0='<null>'.htmlEncode();}else{$0=message.toString();if($0===String.Empty){$0='<empty-string>'.htmlEncode();}if(String.isNullOrEmpty($0.trim())){$0='<whitespace>'.htmlEncode();}}this.$2_1=this.$2_8(cssClass);var $1=Open.Core.Html.createSpan();$1.addClass(Open.Core.LogCss.counterClass);$1.append(this.$2_2.toString());var $2=Open.Core.Html.createDiv();$2.addClass(Open.Core.LogCss.messageClass);$2.append($0);$1.appendTo(this.$2_1);$2.appendTo(this.$2_1);this.$2_9(this.$2_1);},clear:function(){this.$2_4.stop();this.$2_2=0;this.$2_1=null;this.$2_0.html(String.Empty);},updateLayout:function(){this.$2_0.width(this.get_container().width());},divider:function(type){switch(type){case 0:this.$2_6();break;case 1:this.$2_7();break;default:throw new Error('Not supporred: '+Open.Core.LogDivider.toString(type));}},$2_6:function(){if(this.$2_1==null){return;}this.$2_1.addClass(Open.Core.LogCss.lineBreakClass);},$2_7:function(){this.$2_9(this.$2_8(Open.Core.LogCss.sectionBreak));},$2_8:function($p0){var $0=Open.Core.Html.createDiv();$0.addClass($p0);$0.addClass(Open.Core.LogCss.listItemClass);return $0;},$2_9:function($p0){$p0.appendTo(this.$2_0);this.$2_4.start();}}
Open.Core.Controls.Buttons.ButtonBase.registerClass('Open.Core.Controls.Buttons.ButtonBase',Open.Core.ViewBase,Open.Core.IButton);Open.Core.Controls.Buttons.OpenCoreViews$0.registerClass('Open.Core.Controls.Buttons.OpenCoreViews$0',Open.Core.ModelBase);Open.Core.Controls.Buttons.OpenCoreViews$1.registerClass('Open.Core.Controls.Buttons.OpenCoreViews$1',Open.Core.ControllerBase);Open.Core.Controls.Buttons._StateContent.registerClass('Open.Core.Controls.Buttons._StateContent');Open.Core.Controls.Buttons.LinkButton.registerClass('Open.Core.Controls.Buttons.LinkButton',Open.Core.Controls.Buttons.ButtonBase);Open.Core.Controls.Buttons.SystemButton.registerClass('Open.Core.Controls.Buttons.SystemButton',Open.Core.Controls.Buttons.ButtonBase);Open.Core.Controls.HtmlPrimitive.HtmlList.registerClass('Open.Core.Controls.HtmlPrimitive.HtmlList',Open.Core.ViewBase);Open.Core.Controls.LogView.registerClass('Open.Core.Controls.LogView',Open.Core.ViewBase,Open.Core.ILogView);Open.Core.Controls.Buttons.ButtonBase.propCanToggle='CanToggle';Open.Core.Controls.Buttons.ButtonBase.propState='State';Open.Core.Controls.Buttons.ButtonBase.propIsPressed='IsPressed';Open.Core.Controls.Buttons.ButtonBase.propIsMouseOver='IsMouseOver';Open.Core.Controls.Buttons.ButtonBase.propIsMouseDown='IsMouseDown';Open.Core.Controls.Buttons.SystemButton.untitled='Untitled';Open.Core.Controls.Buttons.SystemButton.defaultPadding='5px 30px';Open.Core.Controls.Buttons.SystemButton.propHtmlContent='HtmlContent';Open.Core.Controls.Buttons.SystemButton.propType='Type';Open.Core.Controls.Buttons.SystemButton.propValue='Value';Open.Core.Controls.Buttons.SystemButton.propPadding='Padding';Open.Core.Controls.Buttons.SystemButton.propFontSize='FontSize';
// ---- Do not remove this footer ----
// This script was generated using Script# v0.6.0.0 (http://projects.nikhilk.net/ScriptSharp)
// -----------------------------------
}
ss.loader.registerScript('Open.Core.Views',['Open.Core.Script'],executeScript);})();