// Open.TestHarness.js
(function(){function executeScript(){
Type.registerNamespace('Open.Testing');Open.Testing.TestHarnessViewBase=function(container){Open.Testing.TestHarnessViewBase.initializeBase(this,[container]);}
Open.Testing.TestHarnessViewBase.prototype={$3_0:null,get_common:function(){return this.$3_0||(this.$3_0=Open.Testing.Common.getFromContainer());}}
Open.Testing.TestHarnessControllerBase=function(){Open.Testing.TestHarnessControllerBase.initializeBase(this);}
Open.Testing.TestHarnessControllerBase.prototype={$3_0:null,get_common:function(){return this.$3_0||(this.$3_0=Open.Testing.Common.getFromContainer());}}
Open.Testing.CssSelectors=function(){}
Open.Testing.Elements=function(){}
Open.Testing.StringLibrary=function(){}
Open.Testing._ButtonHelper=function(){}
Open.Testing._ButtonHelper.$0=function($p0,$p1,$p2,$p3){var $0=Open.Core.Controls.Buttons.ImageButtonFactory.create($p0);$0.set_backgroundHighlighting(true);$0.setSize($p2,$p2);var $1=Type.safeCast($0.createView(),Open.Core.Controls.Buttons.ButtonView);$0.add_click($p3);$1.insert($p1,0);$1.updateLayout();}
Open.Testing.TestHarnessEvents=function(){}
Open.Testing.TestHarnessEvents.prototype={add_testClassRegistered:function(value){this.$0=ss.Delegate.combine(this.$0,value);},remove_testClassRegistered:function(value){this.$0=ss.Delegate.remove(this.$0,value);},$0:null,fireTestClassRegistered:function(e){if(this.$0!=null){this.$0.invoke(this,e);}},add_controlAdded:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_controlAdded:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,fireControlAdded:function(e){if(this.$1!=null){this.$1.invoke(this,e);}},add_clearControls:function(value){this.$2=ss.Delegate.combine(this.$2,value);},remove_clearControls:function(value){this.$2=ss.Delegate.remove(this.$2,value);},$2:null,fireClearControls:function(){if(this.$2!=null){this.$2.invoke(this,new ss.EventArgs());}},add_updateLayout:function(value){this.$3=ss.Delegate.combine(this.$3,value);},remove_updateLayout:function(value){this.$3=ss.Delegate.remove(this.$3,value);},$3:null,fireUpdateLayout:function(){if(this.$3!=null){this.$3.invoke(this,new ss.EventArgs());}},add_methodClicked:function(value){this.$4=ss.Delegate.combine(this.$4,value);},remove_methodClicked:function(value){this.$4=ss.Delegate.remove(this.$4,value);},$4:null,$5:function($p0){if(this.$4!=null){this.$4.invoke(this,new Open.Testing.MethodEventArgs($p0));}},add_selectedClassChanged:function(value){this.$6=ss.Delegate.combine(this.$6,value);},remove_selectedClassChanged:function(value){this.$6=ss.Delegate.remove(this.$6,value);},$6:null,$7:function($p0){if(this.$6!=null){this.$6.invoke(this,new Open.Testing.ClassEventArgs($p0));}},add_$8:function($p0){this.$9=ss.Delegate.combine(this.$9,$p0);},remove_$8:function($p0){this.$9=ss.Delegate.remove(this.$9,$p0);},$9:null,$A:function(){if(this.$9!=null){this.$9.invoke(this,new ss.EventArgs());}},add_$B:function($p0){this.$C=ss.Delegate.combine(this.$C,$p0);},remove_$B:function($p0){this.$C=ss.Delegate.remove(this.$C,$p0);},$C:null,$D:function($p0){if(this.$C!=null){this.$C.invoke(this,new Open.Testing.TestHarnessScript3$1($p0));}}}
Open.Testing.MethodEventArgs=function(methodInfo){this.methodInfo=methodInfo;}
Open.Testing.MethodEventArgs.prototype={methodInfo:null}
Open.Testing.ClassEventArgs=function(classInfo){this.classInfo=classInfo;}
Open.Testing.ClassEventArgs.prototype={classInfo:null}
Open.Testing.TestHarnessScript3$1=function(height){this.$0=height;}
Open.Testing.TestHarnessScript3$1.prototype={$0:0}
Open.Testing.Common=function(){}
Open.Testing.Common.getFromContainer=function(){return Type.safeCast(Open.Core.DiContainer.get_defaultContainer().getSingleton(Open.Testing.Common),Open.Testing.Common);}
Open.Testing.Common.prototype={get_container:function(){return Open.Core.DiContainer.get_defaultContainer();},get_events:function(){return Type.safeCast(this.get_container().getSingleton(Open.Testing.Internal.ITestHarnessEvents),Open.Testing.TestHarnessEvents);},get_shell:function(){return Type.safeCast(this.get_container().getSingleton(Open.Testing.Views.ShellView),Open.Testing.Views.ShellView);},get_buttons:function(){return Type.safeCast(this.get_container().getSingleton(Open.Testing.Models.CommonButtons),Open.Testing.Models.CommonButtons);}}
Open.Testing._MethodHelper=function(){}
Open.Testing._MethodHelper.$5=function($p0){return $p0==='constructor';}
Open.Testing._MethodHelper.$6=function($p0){return $p0==='classInitialize';}
Open.Testing._MethodHelper.$7=function($p0){return $p0==='classCleanup';}
Open.Testing._MethodHelper.$8=function($p0){return $p0==='testInitialize';}
Open.Testing._MethodHelper.$9=function($p0){return $p0==='testCleanup';}
Open.Testing._MethodHelper.$A=function($p0){if(Open.Testing._MethodHelper.$6($p0)){return true;}if(Open.Testing._MethodHelper.$7($p0)){return true;}if(Open.Testing._MethodHelper.$8($p0)){return true;}if(Open.Testing._MethodHelper.$9($p0)){return true;}return false;}
Open.Testing.Application=function(){}
Open.Testing.Application.get_container=function(){return Open.Testing.Application.$1||(Open.Testing.Application.$1=Open.Core.DiContainer.get_defaultContainer());}
Open.Testing.Application.main=function(args){Open.Testing.Application.get_container().registerSingleton(Open.Testing.Internal.ITestHarnessEvents,new Open.Testing.TestHarnessEvents());Open.Testing.Application.get_container().registerSingleton(Open.Testing.Common,new Open.Testing.Common());Open.Testing.Application.get_container().registerSingleton(Open.Testing.Models.CommonButtons,new Open.Testing.Models.CommonButtons());Open.Testing.Application.$0=new Open.Testing.Views.ShellView($(Open.Testing.CssSelectors.root));Open.Testing.Application.get_container().registerSingleton(Open.Testing.Views.ShellView,Open.Testing.Application.$0);Open.Testing.Application.get_container().registerSingleton(Open.Testing.Controllers.IPanelResizeController,new Open.Testing.Controllers.PanelResizeController());Open.Testing.Application.$2=new Open.Testing.Controllers.SidebarController();Open.Testing.Application.$3=new Open.Testing.Controllers.ControlHostController();Open.Testing.Application.$4=new Open.Testing.Controllers.LogController();Open.Testing.Application.$5=new Open.Testing.Controllers.AddPackageController();Open.Testing.Application.$6();Open.Testing.Application.$7('/Content/Scripts/Open.Core.Test.debug.js','Open.Core.Test.Application.main');Open.Testing.Application.$7('/Content/Scripts/Quest.Rogue.Test.debug.js','Quest.Rogue.Test.Application.main');Open.Testing.Application.$7('/Content/Scripts/Quest.OnDemand.Test.debug.js','Quest.OnDemand.Test.Application.main');Open.Testing.Application.$7('/Content/Scripts/Quest.EventViewer.Test.debug.js','Quest.EventViewer.Test.Application.main');}
Open.Testing.Application.$6=function(){var $0=Open.Core.Helper.get_icon();Open.Core.Helpers.ImagePreloader.preload('/Open.Assets/Icons/Api/Property.png');Open.Core.Helpers.ImagePreloader.preload('/Open.Assets/Icons/Api/Class.png');Open.Core.Helpers.ImagePreloader.preload($0.path(0));Open.Core.Helpers.ImagePreloader.preload($0.path(2));Open.Core.Helpers.ImagePreloader.preload($0.path(1));}
Open.Testing.Application.$7=function($p0,$p1){var $0=Open.Testing.Models.PackageInfo.singletonFromUrl($p1,$p0);Open.Testing.Application.$2.addPackage($0);}
Type.registerNamespace('Open.Testing.Automation');Open.Testing.Automation.ClassTestRunner=function(classInfo){this.$1=[];this.$0=classInfo;}
Open.Testing.Automation.ClassTestRunner.prototype={$0:null,get_total:function(){return this.$1.length;},get_successes:function(){return Open.Core.Helper.get_collection().total(this.$1,ss.Delegate.create(this,function($p1_0){
return ($p1_0).$1==null;}));},get_failures:function(){return this.get_total()-this.get_successes();},run:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$0);while($enum1.moveNext()){var $0=$enum1.get_current();var $1=new Open.Testing.Automation._ExecutedTest();$1.$0=$0;$1.$1=$0.invoke();this.$1.add($1);}},writeResults:function(log){var $0=this.get_successes();var $1=this.get_failures();var $2=$1>0;var $3=String.format('Test run for class <b>{0}</b>',this.$0.get_displayName());var $4=log.writeListSeverity($3,($2)?3:4);$4.add(String.format('Successes: {0} ({1}%)',$0,this.$2($0)));$4.add(String.format('Failures: {0} ({1}%)',$1,this.$2($1)));if($2){log.lineBreak();}var $enum1=ss.IEnumerator.getEnumerator(this.$1);while($enum1.moveNext()){var $5=$enum1.get_current();if($5.$1==null){continue;}$5.$0.logError($5.$1);}log.newSection();},$2:function($p0){if(this.get_total()===0){return 0;}return Math.round(($p0/this.get_total())*100);}}
Open.Testing.Automation._ExecutedTest=function(){}
Open.Testing.Automation._ExecutedTest.prototype={$0:null,$1:null}
Type.registerNamespace('Open.Testing.Controllers');Open.Testing.Controllers.IPanelResizeController=function(){};Open.Testing.Controllers.IPanelResizeController.registerInterface('Open.Testing.Controllers.IPanelResizeController');Open.Testing.Controllers.AddPackageController=function(){Open.Testing.Controllers.AddPackageController.initializeBase(this);this.$3_3=this.get_common().get_events();this.$3_4=this.get_common().get_shell();this.$3_5=this.get_common().get_buttons().get_addPackage();this.$3_5.add_click(ss.Delegate.create(this,this.$3_7));Open.Testing.Views.AddPackageView.add_showing(ss.Delegate.create(this,this.$3_8));Open.Testing.Views.AddPackageView.add_hidden(ss.Delegate.create(this,this.$3_9));this.$3_3.add_clearControls(ss.Delegate.create(this,this.$3_9));}
Open.Testing.Controllers.AddPackageController.prototype={$3_2:null,$3_3:null,$3_4:null,$3_5:null,$3_6:false,onDisposed:function(){this.$3_5.remove_click(ss.Delegate.create(this,this.$3_7));Open.Testing.Views.AddPackageView.remove_showing(ss.Delegate.create(this,this.$3_8));Open.Testing.Views.AddPackageView.remove_hidden(ss.Delegate.create(this,this.$3_9));Open.Testing.Controllers.AddPackageController.callBaseMethod(this, 'onDisposed');},$3_7:function($p0,$p1){this.$3_5.set_isEnabled(false);this.show();},$3_8:function($p0,$p1){this.$3_6=true;this.$3_C();},$3_9:function($p0,$p1){if(!this.$3_6){return;}this.$3_6=false;this.$3_D();this.$3_C();},$3_A:function($p0,$p1){Open.Core.Log.event('Add Click');},$3_B:function($p0,$p1){if(!this.$3_6){return;}if(this.$3_2==null){return;}this.$3_2.slideOff(ss.Delegate.create(this,function(){
this.$3_D();}));},show:function(){if(this.$3_4.get_controlHost().get_height()<450){this.$3_3.$D(this.$3_4.get_controlHost().get_divMain().height()-450);}this.$3_2=Open.Testing.Views.AddPackageView.addToTestHarness();this.$3_2.get_addButton().add_click(ss.Delegate.create(this,this.$3_A));this.$3_2.get_cancelButton().add_click(ss.Delegate.create(this,this.$3_B));},$3_C:function(){this.$3_5.set_isEnabled(!this.$3_6);},$3_D:function(){if(this.$3_2!=null){this.$3_2.dispose();}this.$3_2=null;Open.Testing.TestHarness.reset();}}
Open.Testing.Controllers.ClassController=function(classInfo){Open.Testing.Controllers.ClassController.initializeBase(this);this.$3_1=classInfo;this.$3_2=this.get_common().get_shell().get_sidebar();this.$3_3=this.get_common().get_events();this.$3_3.add_methodClicked(ss.Delegate.create(this,this.$3_4));this.$3_2.get_methodList().add_runClick(ss.Delegate.create(this,this.$3_5));this.$3_2.get_methodList().add_refreshClick(ss.Delegate.create(this,this.$3_6));this.reset();}
Open.Testing.Controllers.ClassController.prototype={$3_1:null,$3_2:null,$3_3:null,onDisposed:function(){this.$3_3.remove_methodClicked(ss.Delegate.create(this,this.$3_4));this.$3_2.get_methodList().remove_runClick(ss.Delegate.create(this,this.$3_5));this.$3_2.get_methodList().remove_refreshClick(ss.Delegate.create(this,this.$3_6));if(this.$3_1.get_classCleanup()!=null){this.$3_1.get_classCleanup().invoke();}Open.Testing.TestHarness.reset();Open.Testing.Controllers.ClassController.callBaseMethod(this, 'onDisposed');},$3_4:function($p0,$p1){this.invokeSelectedMethod();},$3_5:function($p0,$p1){this.runAll();},$3_6:function($p0,$p1){if(Open.Core.Keyboard.get_isCtrlPressed()){Open.Core.Log.clear();}Open.Core.Log.success(String.format('Reload: <b>{0}</b>',this.$3_1.get_displayName()));this.reset();},get_$3_7:function(){return this.$3_2.get_methodList().get_selectedMethod();},reset:function(){Open.Testing.TestHarness.reset();if(this.$3_1.get_classInitialize()!=null){this.$3_1.get_classInitialize().invoke();}Open.Core.Log.newSection();},invokeSelectedMethod:function(){var $0=this.get_$3_7();if($0==null){return false;}Open.Core.Log.newSection();$0.invoke();return true;},runAll:function(){var $0=new Open.Testing.Automation.ClassTestRunner(this.$3_1);var $1=Open.Core.Log.get_isActive();Open.Core.Log.set_isActive(false);$0.run();Open.Testing.TestHarness.reset();this.reset();Open.Core.Log.set_isActive($1);Open.Core.Log.clear();$0.writeResults(Open.Core.Log.get_writer());}}
Open.Testing.Controllers.ControlHostController=function(){this.$3_2=[];Open.Testing.Controllers.ControlHostController.initializeBase(this);this.$3_1=$(Open.Testing.CssSelectors.controlHost);this.$3_3=this.get_common().get_events();this.$3_3.add_controlAdded(ss.Delegate.create(this,this.$3_5));this.$3_3.add_clearControls(ss.Delegate.create(this,this.$3_6));this.$3_3.add_updateLayout(ss.Delegate.create(this,this.$3_8));this.$3_A();}
Open.Testing.Controllers.ControlHostController.prototype={$3_1:null,$3_3:null,$3_4:true,onDisposed:function(){this.clear();this.$3_3.remove_controlAdded(ss.Delegate.create(this,this.$3_5));this.$3_3.remove_clearControls(ss.Delegate.create(this,this.$3_6));this.$3_3.remove_updateLayout(ss.Delegate.create(this,this.$3_8));Open.Testing.Controllers.ControlHostController.callBaseMethod(this, 'onDisposed');},$3_5:function($p0,$p1){this.$3_9($p1.control,$p1.htmlElement,$p1.controlDisplayMode);},$3_6:function($p0,$p1){this.clear();},$3_7:function($p0,$p1){this.$3_A();},$3_8:function($p0,$p1){this.$3_A();},get_canScroll:function(){return this.$3_4;},set_canScroll:function(value){if(value===this.get_canScroll()){return;}this.$3_4=value;Open.Core.Css.setOverflow(this.$3_1,(value)?3:1);return value;},clear:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$3_2);while($enum1.moveNext()){var $0=$enum1.get_current();if($0.get_control()!=null){$0.get_control().remove_sizeChanged(ss.Delegate.create(this,this.$3_7));}}Open.Core.Helper.get_collection().disposeAndClear(this.$3_2);},$3_9:function($p0,$p1,$p2){var $0=new Open.Testing.Views.ControlWrapperView(this.$3_1,$p0,$p1,$p2,this.$3_2);this.$3_2.add($0);if($p0!=null){$p0.add_sizeChanged(ss.Delegate.create(this,this.$3_7));}if(this.$3_2.length>1){var $enum1=ss.IEnumerator.getEnumerator(this.$3_2);while($enum1.moveNext()){var $1=$enum1.get_current();if($1.get_displayMode()===2){$1.set_displayMode(3);}}}this.$3_A();},$3_A:function(){this.set_canScroll(Open.Testing.TestHarness.get_canScroll());var $enum1=ss.IEnumerator.getEnumerator(this.$3_2);while($enum1.moveNext()){var $0=$enum1.get_current();$0.updateLayout();}}}
Open.Testing.Controllers.LogController=function(){Open.Testing.Controllers.LogController.initializeBase(this);this.$3_1=this.get_common().get_events();this.$3_2=$(Open.Testing.CssSelectors.logContainer);this.$3_4=Type.safeCast(this.get_common().get_container().getSingleton(Open.Testing.Controllers.IPanelResizeController),Open.Testing.Controllers.IPanelResizeController);Open.Core.Log.set_view(new Open.Core.Controls.LogView($(Open.Testing.CssSelectors.logControl).first()));this.$3_1.add_$B(ss.Delegate.create(this,this.$3_5));this.get_common().get_shell().get_logContainer().add_clearClick(ss.Delegate.create(this,function(){
Open.Core.Log.clear();}));}
Open.Testing.Controllers.LogController.prototype={$3_1:null,$3_2:null,$3_4:null,onDisposed:function(){this.$3_1.remove_$B(ss.Delegate.create(this,this.$3_5));Open.Testing.Controllers.LogController.callBaseMethod(this, 'onDisposed');},$3_5:function($p0,$p1){this.$3_6($p1.$0,ss.Delegate.create(this,function(){
this.$3_1.fireUpdateLayout();this.$3_4.updateLayout();this.$3_4.save();}));},$3_6:function($p0,$p1){var $0={};$0[Open.Core.Css.height]=this.$3_7($p0)+Open.Core.Css.px;this.$3_2.animate($0,Open.Core.Helper.get_time().toMsecs(0.3),'swing',ss.Delegate.create(this,function(){
Open.Core.Helper.invoke($p1);}));},$3_7:function($p0){if($p0<32){$p0=32;}if($p0>this.$3_4.get_logResizer().get_maxHeight()){$p0=this.$3_4.get_logResizer().get_maxHeight();}return $p0;}}
Open.Testing.Controllers.MethodListController=function(){Open.Testing.Controllers.MethodListController.initializeBase(this);}
Open.Testing.Controllers.TestHarnessScript3$2=function(sidebarView){Open.Testing.Controllers.TestHarnessScript3$2.initializeBase(this);this.$3_1=sidebarView;this.$3_2=sidebarView.get_methodList();this.$3_3=sidebarView.get_container().children(Open.Testing.CssSelectors.sidebarContent);this.$3_4=this.get_common().get_events();this.$3_4.add_selectedClassChanged(ss.Delegate.create(this,this.$3_5));this.$3_7(null);}
Open.Testing.Controllers.TestHarnessScript3$2.prototype={$3_1:null,$3_2:null,$3_3:null,$3_4:null,onDisposed:function(){this.$3_4.remove_selectedClassChanged(ss.Delegate.create(this,this.$3_5));Open.Testing.Controllers.TestHarnessScript3$2.callBaseMethod(this, 'onDisposed');},$3_5:function($p0,$p1){if($p1.classInfo!=null){this.$3_6(null);}else{this.$3_7(null);}},$3_6:function($p0){this.$3_1.set_isMethodListVisible(true);var $0=this.$3_B();this.$3_9($0,$p0);},$3_7:function($p0){this.$3_1.set_isMethodListVisible(false);this.$3_9(0,$p0);},$3_8:function(){if(!this.$3_1.get_isMethodListVisible()){return;}this.$3_2.get_container().css(Open.Core.Css.height,this.$3_B()+Open.Core.Css.px);},$3_9:function($p0,$p1){var $0={};$0[Open.Core.Css.height]=$p0;var $1={};$1[Open.Core.Css.bottom]=$p0;var $2=$p0>0;if($2){Open.Core.Css.setDisplay(this.$3_2.get_container(),true);}this.$3_2.updateLayout();this.$3_A($2,this.$3_2.get_container(),$0,null);this.$3_A($2,this.$3_1.get_rootList().get_container(),$1,$p1);},$3_A:function($p0,$p1,$p2,$p3){$p1.animate($p2,Open.Core.Helper.get_time().toMsecs(0.2),'swing',ss.Delegate.create(this,function(){
if(!$p0){Open.Core.Css.setDisplay(this.$3_2.get_container(),false);}Open.Core.Helper.invoke($p3);}));},$3_B:function(){var $0=this.$3_2.get_container();var $1=Open.Core.Css.isVisible($0);Open.Core.Css.setDisplay($0,true);var $2=this.$3_2.get_offsetHeight();Open.Core.Css.setDisplay($0,$1);var $3=(this.$3_3.height()*0.66);if($2>$3){$2=$3;}return $2;}}
Open.Testing.Controllers.PanelResizeController=function(){Open.Testing.Controllers.PanelResizeController.initializeBase(this);this.$3_5=this.get_common().get_events();this.$3_3=new Open.Core.UI.HorizontalPanelResizer(Open.Testing.CssSelectors.sidebar,'TH_SB');this.$3_3.add_resized(ss.Delegate.create(this,function(){
this.$3_7();}));this.$3_3.set_minWidth(200);this.$3_3.set_maxWidthMargin(80);Open.Testing.Controllers.PanelResizeController.$3_6(this.$3_3);this.$3_4=new Open.Core.UI.VerticalPanelResizer(Open.Core.Css.toId('testHarnessLog'),'TH_OL');this.$3_4.add_resized(ss.Delegate.create(this,function(){
this.$3_8();}));this.$3_4.set_minHeight(Open.Core.Html.height(Open.Testing.CssSelectors.logTitlebar));this.$3_4.set_maxHeightMargin(80);Open.Testing.Controllers.PanelResizeController.$3_6(this.$3_4);Open.Core.GlobalEvents.add_windowResize(ss.Delegate.create(this,function(){
this.$3_8();}));this.updateLayout();}
Open.Testing.Controllers.PanelResizeController.$3_6=function($p0){$p0.set_rootContainerId('testHarness');$p0.initialize();}
Open.Testing.Controllers.PanelResizeController.prototype={$3_3:null,$3_4:null,$3_5:null,get_logResizer:function(){return this.$3_4;},get_sideBarResizer:function(){return this.$3_3;},updateLayout:function(){this.$3_7();this.$3_8();},save:function(){this.$3_3.save();this.$3_4.save();},$3_7:function(){$(Open.Testing.CssSelectors.main).css(Open.Core.Css.left,(Open.Core.Html.width(Open.Testing.CssSelectors.sidebar)+1)+Open.Core.Css.px);this.$3_5.$A();},$3_8:function(){var $0=Open.Core.Html.height(Open.Testing.CssSelectors.mainContent)-Open.Core.Html.height(Open.Testing.CssSelectors.logContainer);$(Open.Testing.CssSelectors.controlHost).css(Open.Core.Css.height,($0-1)+Open.Core.Css.px);this.$3_5.$A();}}
Open.Testing.Controllers.SidebarController=function(){this.$3_1=[];Open.Testing.Controllers.SidebarController.initializeBase(this);this.$3_4=new Open.Core.Lists.ListItem();this.$3_2=this.get_common().get_shell().get_sidebar();this.$3_2.get_rootList().set_rootNode(this.$3_4);this.$3_3=new Open.Testing.Controllers.MethodListController();this.$3_4.addChild(new Open.Testing.Models.CustomListItem(0));this.$3_4.add_childSelectionChanged(Open.Testing.Controllers.SidebarController.$3_5);}
Open.Testing.Controllers.SidebarController.$3_5=function($p0,$p1){Open.Testing.TestHarness.reset();}
Open.Testing.Controllers.SidebarController.prototype={$3_2:null,$3_3:null,$3_4:null,onDisposed:function(){this.$3_4.remove_childSelectionChanged(Open.Testing.Controllers.SidebarController.$3_5);this.$3_2.dispose();this.$3_3.dispose();var $enum1=ss.IEnumerator.getEnumerator(this.$3_1);while($enum1.moveNext()){var $0=$enum1.get_current();$0.dispose();}Open.Testing.Controllers.SidebarController.callBaseMethod(this, 'onDisposed');},addPackage:function(testPackage){if(testPackage==null){return;}var $0=new Open.Testing.Models.PackageListItem(testPackage);this.$3_4.insertChild((this.$3_4.get_childCount()===0)?0:this.$3_4.get_childCount()-1,$0);var $1=new Open.Testing.Controllers.PackageController($0);this.$3_1.add($1);$1.add_loaded(ss.Delegate.create(this,function(){
this.$3_2.get_rootList().set_selectedParent($1.get_rootNode());}));},removePackage:function(testPackage){if(testPackage==null){return;}var $0=this.$3_6(testPackage);if($0==null){return;}this.$3_2.get_rootList().get_rootNode().removeChild($0.get_rootNode());Open.Core.Log.info(String.format('Test package unloaded: {0}',Open.Core.Html.toHyperlink(testPackage.get_id(),null,0)));Open.Core.Log.lineBreak();},$3_6:function($p0){return Type.safeCast(Open.Core.Helper.get_collection().first(this.$3_1,ss.Delegate.create(this,function($p1_0){
return ($p1_0).get_testPackage()===$p0;})),Open.Testing.Controllers.PackageController);}}
Open.Testing.Controllers.PackageController=function(rootNode){Open.Testing.Controllers.PackageController.initializeBase(this);this.$3_4=rootNode;this.$3_5=this.get_common().get_shell().get_sidebar();this.$3_6=this.get_common().get_events();rootNode.add_selectionChanged(ss.Delegate.create(this,this.$3_8));rootNode.add_childSelectionChanged(ss.Delegate.create(this,this.$3_9));}
Open.Testing.Controllers.PackageController.prototype={add_loaded:function(value){this.$3_1=ss.Delegate.combine(this.$3_1,value);},remove_loaded:function(value){this.$3_1=ss.Delegate.remove(this.$3_1,value);},$3_1:null,$3_2:function(){if(this.$3_1!=null){this.$3_1.invoke(this,new ss.EventArgs());}},$3_4:null,$3_5:null,$3_6:null,$3_7:null,onDisposed:function(){this.$3_4.remove_selectionChanged(ss.Delegate.create(this,this.$3_8));this.$3_4.remove_childSelectionChanged(ss.Delegate.create(this,this.$3_9));if(this.$3_7!=null){this.$3_7.dispose();}Open.Testing.Controllers.PackageController.callBaseMethod(this, 'onDisposed');},$3_8:function($p0,$p1){if(this.get_rootNode().get_isSelected()){this.$3_A();}},$3_9:function($p0,$p1){var $0=Type.safeCast(Open.Core.Helper.get_tree().firstSelectedChild(this.get_rootNode()),Open.Testing.Models.ClassListItem);this.set_selectedClass(($0==null)?null:$0.get_classInfo());},get_isSelected:function(){return this.$3_5.get_rootList().get_selectedParent()===this.get_rootNode();},get_testPackage:function(){return this.$3_4.get_testPackage();},get_rootNode:function(){return this.$3_4;},get_selectedClass:function(){return this.get('SelectedClass',null);},set_selectedClass:function(value){if(this.set('SelectedClass',value,null)){if(this.$3_7!=null){this.$3_7.dispose();}if(value!=null){this.$3_7=new Open.Testing.Controllers.ClassController(value);}this.$3_5.get_methodList().set_classInfo(value);this.$3_6.$7(value);}return value;},$3_A:function(){var $0=this.get_testPackage().get_loader();if($0.get_isDownloaded()){return;}$0.initialize(ss.Delegate.create(this,function(){
if(!$0.get_hasError()){this.$3_B();this.$3_2();}}));},$3_B:function(){var $enum1=ss.IEnumerator.getEnumerator(this.get_testPackage());while($enum1.moveNext()){var $0=$enum1.get_current();var $1=new Open.Testing.Models.ClassListItem($0);this.get_rootNode().addChild($1);}}}
Type.registerNamespace('Open.Testing.Models');Open.Testing.Models.CustomListItemType=function(){};Open.Testing.Models.CustomListItemType.prototype = {addPackage:0}
Open.Testing.Models.CustomListItemType.registerEnum('Open.Testing.Models.CustomListItemType',false);Open.Testing.Models.PackageLoader=function(parent,initMethod,scriptUrl){Open.Testing.Models.PackageLoader.initializeBase(this,[initMethod,scriptUrl]);this.$4_0=parent;this.$4_1=Open.Testing.Common.getFromContainer().get_events();this.$4_1.add_testClassRegistered(ss.Delegate.create(this,this.$4_2));this.set_logErrors(false);}
Open.Testing.Models.PackageLoader.prototype={$4_0:null,$4_1:null,onDisposed:function(){this.$4_1.remove_testClassRegistered(ss.Delegate.create(this,this.$4_2));Open.Testing.Models.PackageLoader.callBaseMethod(this, 'onDisposed');},$4_2:function($p0,$p1){if(!this.get_isLoading()){return;}this.$4_0.addClass($p1.testClass);},initialize:function(onComplete){this.$4_1.add_testClassRegistered(ss.Delegate.create(this,this.$4_2));var $0=Open.Core.Html.toHyperlink(this.get_scriptUrls(),null,0);Open.Core.Log.info(String.format('Downloading test-package: {0} ...',$0));Open.Testing.Models.PackageLoader.callBaseMethod(this, 'initialize',[ss.Delegate.create(this,function(){
if(!this.get_hasError()){Open.Core.Log.success('Test-package loaded successfully.');}else{var $1_0=(this.get_timedOut())?String.format('<b>Failed</b> to download and initialize the test-package at \'{0}\'.  Please ensure the file exists.',$0):String.format('<b>Failed</b> to initialize the script-file at \'{0}\' with the entry method \'{1}()\'.<br/>Please ensure there aren\'t errors in any of the test-class constructors.<br/>Message: \'{2}\'',Open.Core.Html.toHyperlink(this.get_scriptUrls()),this.get_entryPoint(),this.get_loadError().message);Open.Core.Log.error($1_0);}Open.Core.Log.newSection();this.$4_1.remove_testClassRegistered(ss.Delegate.create(this,this.$4_2));Open.Core.Helper.invoke(onComplete);})]);}}
Open.Testing.Models.CommonButtons=function(){Open.Testing.Models.CommonButtons.initializeBase(this);}
Open.Testing.Models.CommonButtons.prototype={$2_0:null,get_addPackage:function(){return this.$2_0||(this.$2_0=Open.Core.Controls.Buttons.ImageButtonFactory.create(0));}}
Open.Testing.Models.CustomListItem=function(viewType){Open.Testing.Models.CustomListItem.initializeBase(this);this.$4_0=viewType;}
Open.Testing.Models.CustomListItem.prototype={$4_0:0,get_viewType:function(){return this.$4_0;},createView:function(){switch(this.get_viewType()){case 0:return new Open.Testing.Views.AddPackageListItemView();default:throw Open.Core.Helper.get_exception().notSupported(Open.Testing.Models.CustomListItemType.toString(this.get_viewType()));}}}
Open.Testing.Models.MethodListItem=function(method){Open.Testing.Models.MethodListItem.initializeBase(this);this.$4_0=method;this.set_text(method.get_displayName());}
Open.Testing.Models.MethodListItem.prototype={$4_0:null,get_method:function(){return this.$4_0;}}
Open.Testing.Models.ClassListItem=function(classInfo){Open.Testing.Models.ClassListItem.initializeBase(this);this.$4_0=classInfo;this.set_text(classInfo.get_displayName());}
Open.Testing.Models.ClassListItem.prototype={$4_0:null,get_classInfo:function(){return this.$4_0;}}
Open.Testing.Models.MethodInfo=function(classInfo,name){Open.Testing.Models.MethodInfo.initializeBase(this);this.$2_0=classInfo;this.$2_1=name;this.$2_2=Open.Testing.Models.MethodInfo.formatName(name);this.$2_3=Open.Testing._MethodHelper.$A(this.get_name());}
Open.Testing.Models.MethodInfo.isTestMethod=function(item){var $0=item.key;if(typeof(item.value)!=='function'){return false;}if(Open.Testing._MethodHelper.$5($0)){return false;}if(Open.Testing._MethodHelper.$A($0)){return false;}if($0.startsWith('_')){return false;}if($0.startsWith('get_')){return false;}if($0.startsWith('set_')){return false;}return true;}
Open.Testing.Models.MethodInfo.formatName=function(name){name=name.replaceAll('__',': ');name=name.replaceAll('_',' ');name=Open.Core.Helper.get_string().toSentenceCase(name);return name;}
Open.Testing.Models.MethodInfo.prototype={$2_0:null,$2_1:null,$2_2:null,$2_3:false,get_classInfo:function(){return this.$2_0;},get_name:function(){return this.$2_1;},get_displayName:function(){return this.$2_2;},get_isSpecial:function(){return this.$2_3;},invoke:function(){var $0=this.get_classInfo().get_instance();if(!this.get_isSpecial()&&this.get_classInfo().get_testInitialize()!=null){this.get_classInfo().get_testInitialize().invoke();}var $1=null;try{var $2=Open.Core.Helper.get_reflection().getFunction($0,this.get_name());if($2!=null){$2.call($0);}}catch($3){$1=$3;this.logError($1);}if(!this.get_isSpecial()&&this.get_classInfo().get_testCleanup()!=null){this.get_classInfo().get_testCleanup().invoke();}return $1;},logError:function(error){var $0=Open.Core.Log.writeListSeverity(String.format('<b>Exception</b> Failed while executing \'<b>{0}</b>\'.',this.get_displayName()),3);$0.add(String.format('Message: \'{0}\'',error.message));$0.add('Method: '+Open.Core.Helper.get_string().toCamelCase(this.get_name()));$0.add('Class: '+this.get_classInfo().get_classType().get_fullName());$0.add('Package: '+Open.Core.Html.toHyperlink(this.get_classInfo().get_packageInfo().get_loader().get_scriptUrls(),null,0));}}
Open.Testing.Models.PackageInfo=function(initMethod,scriptUrl){this.$2_1=[];Open.Testing.Models.PackageInfo.initializeBase(this);if(String.isNullOrEmpty(scriptUrl)){throw new Error('A URL to the test-package script must be specified.');}if(String.isNullOrEmpty(initMethod)){throw new Error('An entry point method must be specified.');}this.$2_2=Open.Testing.Models.PackageInfo.$2_4(scriptUrl);this.$2_3=new Open.Testing.Models.PackageLoader(this,initMethod,scriptUrl);}
Open.Testing.Models.PackageInfo.get_singletons=function(){return Open.Testing.Models.PackageInfo.$2_0;}
Open.Testing.Models.PackageInfo.singletonFromUrl=function(initMethod,scriptUrl){var $0=Type.safeCast(Open.Core.Helper.get_collection().first(Open.Testing.Models.PackageInfo.$2_0,function($p1_0){
return ($p1_0).get_id()===scriptUrl.toLowerCase();}),Open.Testing.Models.PackageInfo);if($0==null){$0=new Open.Testing.Models.PackageInfo(initMethod,scriptUrl);Open.Testing.Models.PackageInfo.$2_0.add($0);}return $0;}
Open.Testing.Models.PackageInfo.$2_4=function($p0){var $0=Open.Core.Helper.get_string();$p0=$0.removeEnd($p0,'.js');$p0=$0.removeEnd($p0,'.debug');$p0=$0.stripPath($p0);if(String.isNullOrEmpty($p0.trim())){$p0='<Untitled>'.htmlEncode();}return $p0;}
Open.Testing.Models.PackageInfo.prototype={$2_2:null,$2_3:null,get_id:function(){return this.get_loader().get_scriptUrls();},get_name:function(){return this.$2_2;},get_count:function(){return this.$2_1.length;},get_loader:function(){return this.$2_3;},getEnumerator:function(){this.$2_1.sort(ss.Delegate.create(this,function($p1_0,$p1_1){
return String.compare(($p1_0).get_displayName(),($p1_1).get_displayName());}));return this.$2_1.getEnumerator();},addClass:function(testClass){if(testClass==null){return;}if(this.contains(testClass)){return;}this.$2_1.add(Open.Testing.Models.ClassInfo.getSingleton(testClass,this));},contains:function(testClass){return this.getTestClassDef(testClass)!=null;},getTestClassDef:function(testClass){if(testClass==null){return null;}var $0=testClass.get_fullName();var $enum1=ss.IEnumerator.getEnumerator(this.$2_1);while($enum1.moveNext()){var $1=$enum1.get_current();if($1.get_classType().get_fullName()===$0){return $1;}}return null;}}
Open.Testing.Models.ClassInfo=function(classType,packageInfo){this.$2_4=[];Open.Testing.Models.ClassInfo.initializeBase(this);this.$2_1=classType;this.$2_2=packageInfo;this.$2_5=Open.Testing.Models.ClassInfo.$2_A(classType.get_name());this.$2_B();}
Open.Testing.Models.ClassInfo.getSingleton=function(testClass,packageInfo){if(Open.Testing.Models.ClassInfo.$2_0==null){Open.Testing.Models.ClassInfo.$2_0={};}var $0=String.format('{0}::{1}',packageInfo.get_id(),testClass.get_fullName());if(Object.keyExists(Open.Testing.Models.ClassInfo.$2_0,$0)){return Type.safeCast(Open.Testing.Models.ClassInfo.$2_0[$0],Open.Testing.Models.ClassInfo);}var $1=new Open.Testing.Models.ClassInfo(testClass,packageInfo);Open.Testing.Models.ClassInfo.$2_0[$0]=$1;return $1;}
Open.Testing.Models.ClassInfo.$2_A=function($p0){$p0=Open.Testing.Models.MethodInfo.formatName($p0);if(!$p0.endsWith('UnitTest')){$p0=Open.Core.Helper.get_string().removeEnd($p0,'Test');}return $p0;}
Open.Testing.Models.ClassInfo.prototype={$2_1:null,$2_2:null,$2_3:null,$2_5:null,$2_6:null,$2_7:null,$2_8:null,$2_9:null,get_classType:function(){return this.$2_1;},get_packageInfo:function(){return this.$2_2;},get_displayName:function(){return this.$2_5;},get_instance:function(){return this.$2_3||(this.$2_3=Type.safeCast(new this.$2_1(),Object));},get_count:function(){return this.$2_4.length;},get_classInitialize:function(){return this.$2_6;},get_classCleanup:function(){return this.$2_7;},get_testInitialize:function(){return this.$2_8;},get_testCleanup:function(){return this.$2_9;},reset:function(){this.$2_3=null;},getEnumerator:function(){return this.$2_4.getEnumerator();},toString:function(){return String.format('[{0}:{1}]',Type.getInstanceType(this).get_name(),this.get_classType().get_name());},$2_B:function(){if(this.get_instance()==null){return;}var $dict1=this.get_instance();for(var $key2 in $dict1){var $0={key:$key2,value:$dict1[$key2]};if(Open.Testing.Models.MethodInfo.isTestMethod($0)){this.$2_4.add(this.$2_D($0));}else{this.$2_C($0);}}},$2_C:function($p0){var $0=$p0.key;if(!Open.Testing._MethodHelper.$A($0)){return;}var $1=this.$2_D($p0);if(Open.Testing._MethodHelper.$6($0)){this.$2_6=$1;}else if(Open.Testing._MethodHelper.$7($0)){this.$2_7=$1;}else if(Open.Testing._MethodHelper.$8($0)){this.$2_8=$1;}else if(Open.Testing._MethodHelper.$9($0)){this.$2_9=$1;}},$2_D:function($p0){return new Open.Testing.Models.MethodInfo(this,$p0.key);}}
Open.Testing.Models.PackageListItem=function(testPackage){Open.Testing.Models.PackageListItem.initializeBase(this);this.$4_0=testPackage;this.set_text(testPackage.get_name());}
Open.Testing.Models.PackageListItem.prototype={$4_0:null,get_testPackage:function(){return this.$4_0;}}
Type.registerNamespace('Open.Testing.Views');Open.Testing.Views.AddPackageListItemView=function(){Open.Testing.Views.AddPackageListItemView.initializeBase(this);this.set_height(34);this.set_position(1);this.$3_3();}
Open.Testing.Views.AddPackageListItemView.prototype={$3_1:null,$3_3:function(){this.$3_1=Type.safeCast(this.get_common().get_buttons().get_addPackage(),Open.Core.Controls.Buttons.ImageButton);this.$3_1.setSize(34,34);var $0=Type.safeCast(this.$3_1.createView(),Open.Core.Controls.Buttons.ButtonView);$0.setCss(Open.Core.Css.position,Open.Core.Css.absolute);$0.setCss(Open.Core.Css.right,0+Open.Core.Css.px);$0.setCss(Open.Core.Css.top,0+Open.Core.Css.px);this.get_container().append($0.get_container());}}
Open.Testing.Views.AddPackageView=function(){Open.Testing.Views.AddPackageView.initializeBase(this);this.$3_B=Open.Testing.Views.AddPackageView.$3_12('Add');this.$3_C=Open.Testing.Views.AddPackageView.$3_12('Cancel');this.retrieveHtml('/Open.Core/TestHarness/AddPackage/',ss.Delegate.create(this,function(){
this.$3_7=$(Open.Testing.CssSelectors.addPackageInnerSlide);this.$3_8=this.$3_7.css(Open.Core.Css.left);this.$3_10();this.$3_B.createView().insert(Open.Testing.CssSelectors.addPackageBtnAdd,0);this.$3_C.createView().insert(Open.Testing.CssSelectors.addPackageBtnCancel,0);Open.Core.Keyboard.add_keydown(ss.Delegate.create(this,this.$3_F));this.$3_D=true;this.updateState();this.slideOn(null);}));}
Open.Testing.Views.AddPackageView.add_showing=function(value){Open.Testing.Views.AddPackageView.$3_1=ss.Delegate.combine(Open.Testing.Views.AddPackageView.$3_1,value);}
Open.Testing.Views.AddPackageView.remove_showing=function(value){Open.Testing.Views.AddPackageView.$3_1=ss.Delegate.remove(Open.Testing.Views.AddPackageView.$3_1,value);}
Open.Testing.Views.AddPackageView.$3_2=function(){if(Open.Testing.Views.AddPackageView.$3_1!=null){Open.Testing.Views.AddPackageView.$3_1.invoke(Open.Testing.Views.AddPackageView,new ss.EventArgs());}}
Open.Testing.Views.AddPackageView.add_hidden=function(value){Open.Testing.Views.AddPackageView.$3_3=ss.Delegate.combine(Open.Testing.Views.AddPackageView.$3_3,value);}
Open.Testing.Views.AddPackageView.remove_hidden=function(value){Open.Testing.Views.AddPackageView.$3_3=ss.Delegate.remove(Open.Testing.Views.AddPackageView.$3_3,value);}
Open.Testing.Views.AddPackageView.$3_4=function(){if(Open.Testing.Views.AddPackageView.$3_3!=null){Open.Testing.Views.AddPackageView.$3_3.invoke(Open.Testing.Views.AddPackageView,new ss.EventArgs());}}
Open.Testing.Views.AddPackageView.addToTestHarness=function(){var $0=new Open.Testing.Views.AddPackageView();Open.Testing.TestHarness.reset();Open.Testing.TestHarness.set_canScroll(false);Open.Testing.TestHarness.set_displayMode(2);Open.Testing.TestHarness.addControl($0);return $0;}
Open.Testing.Views.AddPackageView.$3_12=function($p0){var $0=new Open.Core.Controls.Buttons.IconTextButton();$0.set_text($p0);$0.set_canFocus(false);return $0;}
Open.Testing.Views.AddPackageView.prototype={$3_7:null,$3_8:null,$3_9:null,$3_A:null,$3_B:null,$3_C:null,$3_D:false,$3_E:false,onDisposed:function(){Open.Core.Keyboard.remove_keydown(ss.Delegate.create(this,this.$3_F));Open.Testing.Views.AddPackageView.callBaseMethod(this, 'onDisposed');},$3_F:function($p0,$p1){if(this.$3_E&&$p1.key===27){this.get_cancelButton().invokeClick(false);}},get_addButton:function(){return this.$3_B;},get_cancelButton:function(){return this.$3_C;},get_isPopulated:function(){return this.$3_9.get_hasText()&&this.$3_A.get_hasText();},slideOn:function(onComplete){if(!this.$3_D){return;}Open.Testing.Views.AddPackageView.$3_2();this.$3_13('0px',ss.Delegate.create(this,function(){
this.$3_E=true;this.$3_9.get_focus().apply();Open.Core.Helper.invoke(onComplete);}));},slideOff:function(onComplete){if(!this.$3_D){return;}this.$3_13(this.$3_8,ss.Delegate.create(this,function(){
this.$3_E=false;Open.Testing.Views.AddPackageView.$3_4();Open.Core.Helper.invoke(onComplete);}));},updateState:function(){if(!this.$3_D){return;}this.$3_B.set_isEnabled(this.get_isPopulated());},$3_10:function(){this.$3_9=this.$3_11(Open.Testing.CssSelectors.addPackageTxtScript,Open.Testing.Views.AddPackageView.iconJs);this.$3_A=this.$3_11(Open.Testing.CssSelectors.addPackageTxtMethod,Open.Testing.Views.AddPackageView.iconMethod);},$3_11:function($p0,$p1){var $0=new Open.Core.Controls.Textbox();$0.get_padding().change(10,5);$0.set_leftIcon(Open.Core.Helper.get_url().prependDomain($p1));$0.insert($p0,0);$0.add_textChanged(ss.Delegate.create(this,function(){
this.updateState();}));$0.add_enterPress(ss.Delegate.create(this,function(){
this.get_addButton().invokeClick(false);}));return $0;},$3_13:function($p0,$p1){var $0={};$0[Open.Core.Css.left]=$p0;this.$3_7.animate($0,Open.Core.Helper.get_time().toMsecs(0.25),'swing',ss.Delegate.create(this,function(){
Open.Core.Helper.invoke($p1);}));}}
Open.Testing.Views.ControlHostView=function(){Open.Testing.Views.ControlHostView.initializeBase(this,[$(Open.Testing.CssSelectors.controlHost)]);this.$3_1=$(Open.Testing.CssSelectors.main);}
Open.Testing.Views.ControlHostView.prototype={$3_1:null,get_divMain:function(){return this.$3_1;}}
Open.Testing.Views.ControlWrapperView=function(divHost,control,htmlElement,displayMode,allViews){Open.Testing.Views.ControlWrapperView.initializeBase(this,[divHost]);this.$3_4=control;this.$3_3=htmlElement;this.$3_5=displayMode;this.$3_6=allViews;this.$3_7=divHost.children().length;this.$3_8=this.get_common().get_events();this.$3_2=Open.Core.Html.createDiv();this.$3_2.css(Open.Core.Css.position,Open.Core.Css.absolute);this.$3_2.appendTo(divHost);htmlElement.css(Open.Core.Css.position,Open.Core.Css.absolute);htmlElement.appendTo(this.$3_2);this.$3_8.add_$8(ss.Delegate.create(this,this.$3_9));this.updateLayout();}
Open.Testing.Views.ControlWrapperView.prototype={$3_2:null,$3_3:null,$3_4:null,$3_5:0,$3_6:null,$3_7:0,$3_8:null,onDisposed:function(){if(this.$3_4!=null){this.$3_4.dispose();}this.$3_8.remove_$8(ss.Delegate.create(this,this.$3_9));this.$3_2.remove();Open.Testing.Views.ControlWrapperView.callBaseMethod(this, 'onDisposed');},$3_9:function($p0,$p1){Open.Core.Css.setOverflow(this.get_container(),1);this.updateLayout();},get_displayMode:function(){return this.$3_5;},set_displayMode:function(value){this.$3_5=value;return value;},get_htmlElement:function(){return this.$3_3;},get_control:function(){return this.$3_4;},onUpdateLayout:function(){this.$3_A();this.$3_C();},$3_A:function(){switch(this.$3_5){case 0:case 1:break;case 2:this.$3_B(0,0);break;case 3:this.$3_B(30,30);break;default:throw new Error(Open.Testing.ControlDisplayMode.toString(this.$3_5));}Open.Core.Css.setOverflow(this.get_container(),(Open.Testing.TestHarness.get_canScroll())?3:1);},$3_B:function($p0,$p1){var $0=(this.get_container().width()-($p0*2));var $1=(this.get_container().height()-($p1*2));Open.Core.Css.setSize(this.$3_3,$0,$1);},$3_C:function(){if(this.get_displayMode()===0){return;}this.$3_2.css(Open.Core.Css.left,this.$3_D()+Open.Core.Css.px);var $0=(this.get_container().children().length===1)?this.$3_E():this.$3_F();if(this.$3_5!==2&&$0<30){$0=30;}this.$3_2.css(Open.Core.Css.top,$0+Open.Core.Css.px);},$3_D:function(){switch(this.$3_5){case 0:return -1;case 1:return (this.get_container().width()/2)-(this.$3_3.width()/2);case 2:return 0;case 3:return 30;default:throw new Error(Open.Testing.ControlDisplayMode.toString(this.$3_5));}},$3_E:function(){switch(this.$3_5){case 0:return -1;case 1:return (this.get_container().height()/2)-(this.$3_3.height()/2);case 2:return 0;case 3:return 30;default:throw new Error(Open.Testing.ControlDisplayMode.toString(this.$3_5));}},$3_F:function(){return this.$3_10()+((this.$3_7+1)*30);},$3_10:function(){var $0=0;var $enum1=ss.IEnumerator.getEnumerator(this.$3_6);while($enum1.moveNext()){var $1=$enum1.get_current();if($1===this){break;}$0+=$1.get_htmlElement().height();}return $0;}}
Open.Testing.Views.LogContainerView=function(){Open.Testing.Views.LogContainerView.initializeBase(this,[$(Open.Testing.CssSelectors.logContainer)]);Open.Testing._ButtonHelper.$0(5,Open.Testing.CssSelectors.logClearButton,32,ss.Delegate.create(this,function(){
this.$3_2();}));}
Open.Testing.Views.LogContainerView.prototype={add_clearClick:function(value){this.$3_1=ss.Delegate.combine(this.$3_1,value);},remove_clearClick:function(value){this.$3_1=ss.Delegate.remove(this.$3_1,value);},$3_1:null,$3_2:function(){if(this.$3_1!=null){this.$3_1.invoke(this,new ss.EventArgs());}}}
Open.Testing.Views.ShellView=function(container){Open.Testing.Views.ShellView.initializeBase(this,[container]);this.$3_1=new Open.Testing.Views.SidebarView();this.$3_2=new Open.Testing.Views.ControlHostView();this.$3_3=new Open.Testing.Views.LogContainerView();}
Open.Testing.Views.ShellView.prototype={$3_1:null,$3_2:null,$3_3:null,onDisposed:function(){this.$3_1.dispose();this.$3_2.dispose();this.$3_3.dispose();Open.Testing.Views.ShellView.callBaseMethod(this, 'onDisposed');},get_sidebar:function(){return this.$3_1;},get_controlHost:function(){return this.$3_2;},get_logContainer:function(){return this.$3_3;}}
Open.Testing.Views.SidebarView=function(){Open.Testing.Views.SidebarView.initializeBase(this,[$(Open.Testing.CssSelectors.sidebar)]);this.$3_1=new Open.Core.Lists.ListTreeView($(Open.Testing.CssSelectors.sidebarRootList));this.$3_1.get_slide().set_duration(0.2);this.$3_3=new Open.Testing.Views.MethodListView($(Open.Testing.CssSelectors.methodList));this.$3_2=new Open.Core.Lists.ListTreeBackController(this.$3_1,$(Open.Testing.CssSelectors.sidebarToolbar),$(Open.Testing.CssSelectors.backMask));this.$3_4=new Open.Testing.Controllers.TestHarnessScript3$2(this);Open.Core.GlobalEvents.add_windowResizeComplete(ss.Delegate.create(this,this.$3_5));Open.Core.GlobalEvents.add_panelResizeComplete(ss.Delegate.create(this,this.$3_5));this.updateLayout();}
Open.Testing.Views.SidebarView.prototype={$3_1:null,$3_2:null,$3_3:null,$3_4:null,onDisposed:function(){Open.Core.GlobalEvents.remove_windowResizeComplete(ss.Delegate.create(this,this.$3_5));Open.Core.GlobalEvents.remove_panelResizeComplete(ss.Delegate.create(this,this.$3_5));this.$3_1.dispose();this.$3_2.dispose();this.$3_4.dispose();Open.Testing.Views.SidebarView.callBaseMethod(this, 'onDisposed');},$3_5:function($p0,$p1){this.updateLayout();},get_rootList:function(){return this.$3_1;},get_methodList:function(){return this.$3_3;},get_isMethodListVisible:function(){return this.get('IsTestListVisible',false);},set_isMethodListVisible:function(value){this.set('IsTestListVisible',value,false);return value;},onUpdateLayout:function(){this.$3_4.$3_8();this.$3_6();},$3_6:function(){this.get_rootList().get_container().css(Open.Core.Css.bottom,this.get_methodList().get_container().height()+Open.Core.Css.px);}}
Open.Testing.Views.MethodListView=function(container){Open.Testing.Views.MethodListView.initializeBase(this,[container]);this.$3_8=this.get_common().get_events();this.$3_6=new Open.Core.Lists.ListTreeView($(Open.Testing.CssSelectors.methodListContent));this.$3_6.get_slide().set_duration(0.2);this.$3_7=new Open.Core.Lists.ListItem();this.$3_6.set_rootNode(this.$3_7);this.$3_E();}
Open.Testing.Views.MethodListView.prototype={add_runClick:function(value){this.$3_1=ss.Delegate.combine(this.$3_1,value);},remove_runClick:function(value){this.$3_1=ss.Delegate.remove(this.$3_1,value);},$3_1:null,$3_2:function(){if(this.$3_1!=null){this.$3_1.invoke(this,new ss.EventArgs());}},add_refreshClick:function(value){this.$3_3=ss.Delegate.combine(this.$3_3,value);},remove_refreshClick:function(value){this.$3_3=ss.Delegate.remove(this.$3_3,value);},$3_3:null,$3_4:function(){if(this.$3_3!=null){this.$3_3.invoke(this,new ss.EventArgs());}},$3_6:null,$3_7:null,$3_8:null,$3_9:function($p0,$p1){this.set_selectedMethod(($p0).get_method());this.$3_8.$5(this.get_selectedMethod());},get_classInfo:function(){return this.get('ClassInfo',null);},set_classInfo:function(value){if(this.set('ClassInfo',value,null)){this.$3_B(value);}return value;},get_selectedMethod:function(){return this.get('SelectedMethod',null);},set_selectedMethod:function(value){this.set('SelectedMethod',value,null);return value;},get_offsetHeight:function(){return this.$3_6.get_contentHeight()+this.get_$3_A().height()+1;},get_$3_A:function(){return this.get_container().children(Open.Testing.CssSelectors.methodListTitlebar);},onUpdateLayout:function(){this.$3_6.updateLayout();},$3_B:function($p0){this.$3_D();if($p0==null){return;}var $enum1=ss.IEnumerator.getEnumerator($p0);while($enum1.moveNext()){var $0=$enum1.get_current();this.$3_7.addChild(this.$3_C($0));}},$3_C:function($p0){var $0=new Open.Testing.Models.MethodListItem($p0);$0.add_click(ss.Delegate.create(this,this.$3_9));return $0;},$3_D:function(){var $enum1=ss.IEnumerator.getEnumerator(this.$3_7.get_children());while($enum1.moveNext()){var $0=$enum1.get_current();$0.remove_click(ss.Delegate.create(this,this.$3_9));}this.$3_7.clearChildren();this.set_selectedMethod(null);},$3_E:function(){Open.Testing._ButtonHelper.$0(2,Open.Testing.CssSelectors.methodListRunButton,33,ss.Delegate.create(this,function(){
this.$3_2();}));Open.Testing._ButtonHelper.$0(1,Open.Testing.CssSelectors.methodListRefreshButton,33,ss.Delegate.create(this,function(){
this.$3_4();}));}}
Open.Testing.TestHarnessViewBase.registerClass('Open.Testing.TestHarnessViewBase',Open.Core.ViewBase);Open.Testing.TestHarnessControllerBase.registerClass('Open.Testing.TestHarnessControllerBase',Open.Core.ControllerBase);Open.Testing.CssSelectors.registerClass('Open.Testing.CssSelectors');Open.Testing.Elements.registerClass('Open.Testing.Elements');Open.Testing.StringLibrary.registerClass('Open.Testing.StringLibrary');Open.Testing._ButtonHelper.registerClass('Open.Testing._ButtonHelper');Open.Testing.TestHarnessEvents.registerClass('Open.Testing.TestHarnessEvents',null,Open.Testing.Internal.ITestHarnessEvents);Open.Testing.MethodEventArgs.registerClass('Open.Testing.MethodEventArgs');Open.Testing.ClassEventArgs.registerClass('Open.Testing.ClassEventArgs');Open.Testing.TestHarnessScript3$1.registerClass('Open.Testing.TestHarnessScript3$1');Open.Testing.Common.registerClass('Open.Testing.Common');Open.Testing._MethodHelper.registerClass('Open.Testing._MethodHelper');Open.Testing.Application.registerClass('Open.Testing.Application');Open.Testing.Automation.ClassTestRunner.registerClass('Open.Testing.Automation.ClassTestRunner');Open.Testing.Automation._ExecutedTest.registerClass('Open.Testing.Automation._ExecutedTest');Open.Testing.Controllers.AddPackageController.registerClass('Open.Testing.Controllers.AddPackageController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.ClassController.registerClass('Open.Testing.Controllers.ClassController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.ControlHostController.registerClass('Open.Testing.Controllers.ControlHostController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.LogController.registerClass('Open.Testing.Controllers.LogController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.MethodListController.registerClass('Open.Testing.Controllers.MethodListController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.TestHarnessScript3$2.registerClass('Open.Testing.Controllers.TestHarnessScript3$2',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.PanelResizeController.registerClass('Open.Testing.Controllers.PanelResizeController',Open.Testing.TestHarnessControllerBase,Open.Testing.Controllers.IPanelResizeController);Open.Testing.Controllers.SidebarController.registerClass('Open.Testing.Controllers.SidebarController',Open.Testing.TestHarnessControllerBase);Open.Testing.Controllers.PackageController.registerClass('Open.Testing.Controllers.PackageController',Open.Testing.TestHarnessControllerBase);Open.Testing.Models.PackageLoader.registerClass('Open.Testing.Models.PackageLoader',Open.Core.Package);Open.Testing.Models.CommonButtons.registerClass('Open.Testing.Models.CommonButtons',Open.Core.ModelBase);Open.Testing.Models.CustomListItem.registerClass('Open.Testing.Models.CustomListItem',Open.Core.Lists.ListItem,Open.Core.IViewFactory);Open.Testing.Models.MethodListItem.registerClass('Open.Testing.Models.MethodListItem',Open.Core.Lists.ListItem);Open.Testing.Models.ClassListItem.registerClass('Open.Testing.Models.ClassListItem',Open.Core.Lists.ListItem);Open.Testing.Models.MethodInfo.registerClass('Open.Testing.Models.MethodInfo',Open.Core.ModelBase);Open.Testing.Models.PackageInfo.registerClass('Open.Testing.Models.PackageInfo',Open.Core.ModelBase,ss.IEnumerable);Open.Testing.Models.ClassInfo.registerClass('Open.Testing.Models.ClassInfo',Open.Core.ModelBase,ss.IEnumerable);Open.Testing.Models.PackageListItem.registerClass('Open.Testing.Models.PackageListItem',Open.Core.Lists.ListItem);Open.Testing.Views.AddPackageListItemView.registerClass('Open.Testing.Views.AddPackageListItemView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.AddPackageView.registerClass('Open.Testing.Views.AddPackageView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.ControlHostView.registerClass('Open.Testing.Views.ControlHostView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.ControlWrapperView.registerClass('Open.Testing.Views.ControlWrapperView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.LogContainerView.registerClass('Open.Testing.Views.LogContainerView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.ShellView.registerClass('Open.Testing.Views.ShellView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.SidebarView.registerClass('Open.Testing.Views.SidebarView',Open.Testing.TestHarnessViewBase);Open.Testing.Views.MethodListView.registerClass('Open.Testing.Views.MethodListView',Open.Testing.TestHarnessViewBase);Open.Testing.CssSelectors.root='#testHarness';Open.Testing.CssSelectors.sidebar='#testHarnessSidebar';Open.Testing.CssSelectors.sidebarContent='#testHarnessSidebar .th-content';Open.Testing.CssSelectors.sidebarRootList='#testHarnessSidebar .th-sidebarRootList';Open.Testing.CssSelectors.sidebarToolbar='#testHarnessSidebar div.th-toolbar';Open.Testing.CssSelectors.backMask='#testHarnessSidebar img.th-backMask';Open.Testing.CssSelectors.methodList='#testHarnessSidebar .th-testList';Open.Testing.CssSelectors.methodListTitlebar='#testHarnessSidebar .th-testList-tb';Open.Testing.CssSelectors.methodListContent='#testHarnessSidebar .th-testList-content';Open.Testing.CssSelectors.methodListButtons='#testHarnessSidebar .th-testList .buttons';Open.Testing.CssSelectors.methodListRunButton='#testHarnessSidebar .th-testList button.runTests';Open.Testing.CssSelectors.methodListRefreshButton='#testHarnessSidebar .th-testList button.refresh';Open.Testing.CssSelectors.main='#testHarness .th-main';Open.Testing.CssSelectors.mainContent='#testHarness .th-main .th-content';Open.Testing.CssSelectors.controlHost='#testHarness .th-main .th-content .th-controlHost';Open.Testing.CssSelectors.logContainer='#testHarnessLog';Open.Testing.CssSelectors.logTitlebar='#testHarnessLog .th-log-tb';Open.Testing.CssSelectors.logControl='#testHarnessLog .c_log';Open.Testing.CssSelectors.logClearButton='#testHarnessLog .th-log-tb .button.clear';Open.Testing.CssSelectors.addPackageInnerSlide='#testHarness div.th_addPackage div.innerSlide';Open.Testing.CssSelectors.addPackageTxtScript='.field_set_scriptUrl > input';Open.Testing.CssSelectors.addPackageTxtMethod='.field_set_initMethod > input';Open.Testing.CssSelectors.addPackageButtons='#testHarness .th_addPackage div.buttons';Open.Testing.CssSelectors.addPackageBtnAdd=Open.Testing.CssSelectors.addPackageButtons+' .button.add';Open.Testing.CssSelectors.addPackageBtnCancel=Open.Testing.CssSelectors.addPackageButtons+' .button.cancel';Open.Testing.Elements.root='testHarness';Open.Testing.Elements.outputLog='testHarnessLog';Open.Testing.StringLibrary.add='Add';Open.Testing.StringLibrary.cancel='Cancel';Open.Testing._MethodHelper.$0='constructor';Open.Testing._MethodHelper.$1='classInitialize';Open.Testing._MethodHelper.$2='classCleanup';Open.Testing._MethodHelper.$3='testInitialize';Open.Testing._MethodHelper.$4='testCleanup';Open.Testing.Application.publicDomain='http://TestHarness.org';Open.Testing.Application.$0=null;Open.Testing.Application.$1=null;Open.Testing.Application.$2=null;Open.Testing.Application.$3=null;Open.Testing.Application.$4=null;Open.Testing.Application.$5=null;Open.Testing.Controllers.PanelResizeController.logMinHeight=32;Open.Testing.Controllers.PanelResizeController.logMaxHeightMargin=80;Open.Testing.Controllers.PackageController.propSelectedClass='SelectedClass';Open.Testing.Models.MethodInfo.keyGetter='get_';Open.Testing.Models.MethodInfo.keySetter='set_';Open.Testing.Models.MethodInfo.keyField='_';Open.Testing.Models.MethodInfo.keyFunction='function';Open.Testing.Models.PackageInfo.$2_0=[];Open.Testing.Models.ClassInfo.$2_0=null;Open.Testing.Views.AddPackageView.$3_1=null;Open.Testing.Views.AddPackageView.$3_3=null;Open.Testing.Views.AddPackageView.iconJs=Open.Core.Helper.get_url().prependDomain('/Open.Core/TestHarness/Images/Icon.JavaScript.png');Open.Testing.Views.AddPackageView.iconMethod=Open.Core.Helper.get_url().prependDomain(Open.Core.ImagePaths.apiIconPath+'Method.png');Open.Testing.Views.SidebarView.slideDuration=0.2;Open.Testing.Views.SidebarView.propIsTestListVisible='IsTestListVisible';Open.Testing.Views.MethodListView.propClassInfo='ClassInfo';Open.Testing.Views.MethodListView.propSelectedMethod='SelectedMethod';}
ss.loader.registerScript('TestHarness.Script3',['Open.Core.Views','Open.Core2','Open.Core.Lists'],executeScript);})();